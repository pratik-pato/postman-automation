{
  "collection": {
    "info": {
      "id": "4b9d8688-0425-9e77-b043-c5348885a06d",
      "name": "Business Profile Features With Limit",
      "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
    },
    "event": [],
    "variable": [],
    "item": [
      {
        "description": {
          "content": "",
          "type": "text/plain"
        },
        "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
        "name": "CB Feature Template",
        "item": [
          {
            "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
            "name": "Login",
            "request": {
              "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
              "method": "POST",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                    "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                    "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                  ]
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "postman.setEnvironmentVariable('featureId',data['f_id']);",
                    "postman.setEnvironmentVariable('featureName',data['name']);"
                  ]
                }
              }
            ]
          },
          {
            "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
            "name": "get ProfileFeatures without assigning feature",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                    "",
                    "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
            "name": "Add Business Profile Feature without entitlements",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{reqPutOnlyFeature}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                    "",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                    "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
            "name": "get ProfileFeatures entitlements",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsList = [];",
                    "var channelEntitlementsList = [];",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    entitlementsList.push(entitlement);",
                    "",
                    "    var channelEntitlement = {};",
                    "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    channelEntitlement.Entitled = false;",
                    "    channelEntitlementsList.push(channelEntitlement);",
                    " ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var channelEntitlement = {};",
                    "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        channelEntitlement.Entitled = false;",
                    "        channelEntitlementsList.push(channelEntitlement);",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "",
                    "postResponse.Feature = entObj;",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "entObjChannel.Entitlements = channelEntitlementsList; ",
                    "",
                    "",
                    "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                    "",
                    "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
            "name": "delete feature",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "DELETE",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                    ""
                  ]
                }
              }
            ]
          },
          {
            "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
            "name": "Add Business Profile Features with entitlements (Valid Set)",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReq}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
            "name": "get ProfileFeatures with children and limits",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entitlementsList = [];",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsListChannel = [];",
                    "",
                    "var limitValue = 1600;",
                    "var limitList = [];",
                    "var limitListChannel = [];",
                    "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                    "",
                    "for(var i=0;i<4;i++)",
                    "{",
                    "    limitValue = limitValue/2;",
                    "    limitValueChannel = limitValue/2;",
                    "    var limitObj = {};",
                    "    limitObj.Period=periodType[i];",
                    "    limitObj.Amount=limitValue.toString()+\".00\";",
                    "    limitObj.ExceedWithApproval=true;",
                    "    limitList.push(limitObj);",
                    "    ",
                    "    var limitObjChannel = {};",
                    "    limitObjChannel.Period=periodType[i];",
                    "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                    "    limitObjChannel.ExceedWithApproval=true;",
                    "    limitListChannel.push(limitObjChannel);",
                    "}",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    var limitArr = res[i].Limits.results;",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlement.Limits=limitList;",
                    "    }",
                    "    entitlementsList.push(entitlement);",
                    "    ",
                    "    var entitlementChannel = {};",
                    "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlementChannel.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlementChannel.Limits=limitListChannel;",
                    "    }",
                    "    entitlementsListChannel.push(entitlementChannel);",
                    "    ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlement.Limits=limitList;",
                    "        }",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var entitlementChannel = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlementChannel.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlementChannel.Limits=limitListChannel;",
                    "        }",
                    "        entitlementsListChannel.push(entitlementChannel);",
                    "        ",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "postResponse.Feature = entObj;",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                    "",
                    "entObjChannel.Entitlements = entitlementsListChannel; ",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                    "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
            "name": "Add Business Profile Features with entitlements (Valid Set) copy",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
            "name": "get ProfileFeatures with children entitled false on channel Verify",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
            "name": "Add Business Profile Features with entitlements with limits",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimit}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
            "name": "get ProfileFeatures with children and limits verify",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    //if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                    "        }",
                    "    }",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
            "name": "Add Business Profile Features with entitlements with limits on Channel",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimitChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
            "name": "get ProfileFeatures with children and limits verify on channel",
            "request": {
              "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                    "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    //if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "        }",
                    "    }",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          }
        ],
        "event": []
      }
    ]
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2016-11-25T05:41:42.214Z",
      "postman_exported_using": "Newman/3.2.0"
    },
    "id": "a481bb2c-55f3-60ae-abea-cb58e17b0cc5",
    "name": "RetailBanking",
    "values": [
      {
        "type": "any",
        "value": "https://10.96.25.141:9445",
        "key": "env"
      },
      {
        "type": "any",
        "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9",
        "key": "TokenKey"
      },
      {
        "type": "any",
        "value": "4141931803665659627",
        "key": "x-csrf-token"
      },
      {
        "type": "any",
        "value": "101",
        "key": "featureId"
      },
      {
        "type": "any",
        "value": "Account Management",
        "key": "featureName"
      }
    ]
  },
  "globals": {
    "id": "33fc3e1c-e30e-48f8-84aa-dffb380f2be0",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 13,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 14,
        "pending": 0,
        "failed": 6
      },
      "prerequests": {
        "total": 13,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 13,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 13,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 7,
        "pending": 0,
        "failed": 6
      },
      "testScripts": {
        "total": 13,
        "pending": 0,
        "failed": 6
      },
      "prerequestScripts": {
        "total": 1,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 633.7692307692307,
      "started": 1480052504264,
      "completed": 1480052516491
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 13,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "07d0efc8-355e-4478-ac3d-fcdecd9c8ced"
        },
        "item": {
          "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
          "name": "Login",
          "request": {
            "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);",
                  "postman.setEnvironmentVariable('featureName',data['name']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/ns/authenticationservice/SecureUsers?action=init",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 202
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "CSRF_TOKEN",
              "value": "4141931803665659627"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:46 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.96.25.141:9445/cb/odata/ns/authenticationservice/SecureUsers('AgriTech%20Profile%20Ltd')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "key": "Content-Length",
              "value": "1321"
            },
            {
              "key": "",
              "value": ""
            },
            {
              "key": "Expires",
              "value": "Thu, 01 Dec 1994 16:00:00 GMT"
            },
            {
              "key": "Cache-Control",
              "value": "no-cache=\"set-cookie, set-cookie2\""
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.96.25.141:9445/cb/odata/ns/authenticationservice/SecureUsers('AgriTech%20Profile%20Ltd')\",\"uri\":\"https://10.96.25.141:9445/cb/odata/ns/authenticationservice/SecureUsers('AgriTech%20Profile%20Ltd')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"4\",\"AppType\":\"Business\",\"BankID\":\"1000\",\"BaseCurrency\":\"USD\",\"BusinessCIF\":\"1234567891\",\"BusinessCustId\":\"AgriTech Profile Ltd\",\"BusinessID\":140,\"BusinessName\":\"AgriTech Profile Ltd\",\"ChannelType\":\"Web\",\"CurrentMfaType\":\"1\",\"EntitlementID\":1103,\"Id\":\"AgriTech Profile Ltd\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":true,\"Password\":\"\",\"UserProfileID\":\"141\",\"ProfileID\":0,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy/H:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy/H:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":null,\"TimeFormat\":\"H:mm\",\"TimeFormatName\":\"H:mm\",\"ZoneFormat\":\"z\",\"ZoneFormatName\":null},\"UserName\":\"primaryadmin\",\"UserType\":1,\"BPWFIID\":\"1000\",\"DeviceId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.96.25.141:9445/cb/odata/ns/authenticationservice/SecureUsers('AgriTech%20Profile%20Ltd')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 1094,
          "responseSize": 1321,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
        "assertions": [
          {
            "assertion": "Logged in as primaryadmin for iteration : Account Management"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c07bdc96-88fa-4e1e-b534-52dbfee11305",
          "length": 13,
          "cycles": 1,
          "position": 1,
          "iteration": 0
        },
        "item": {
          "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "",
                  "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:47 GMT"
            },
            {
              "key": "Content-Length",
              "value": "60"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OE\",\"message\":{\"lang\":\"en\",\"value\":null}}}",
          "cookie": [],
          "responseTime": 315,
          "responseSize": 60,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "7cd92500-786f-4b33-9b9c-06cc18c26618",
              "timestamp": 1480052507321,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "001700cb-1f9f-425a-8e6c-405b9388d83b",
          "length": 13,
          "cycles": 1,
          "position": 2,
          "iteration": 0
        },
        "item": {
          "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
          "name": "Add Business Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 21
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{{reqPutOnlyFeature}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:48 GMT"
            },
            {
              "key": "Content-Length",
              "value": "114"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OVE\",\"message\":{\"lang\":\"en\",\"value\":\"An exception of type 'MalformedJsonException' occurred.\"}}}",
          "cookie": [],
          "responseTime": 563,
          "responseSize": 114,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
        "assertions": [
          {
            "assertion": "Account Management added without entitlements.",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "Account Management added without entitlements.",
              "stack": "AssertionFailure: Expected tests[\"Account Management added without entitlements.\"] to be truth-like\n   at Object.eval test.js:1:3)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4c3b3c6a-735e-4600-8b19-a541e371a283",
          "length": 13,
          "cycles": 1,
          "position": 3,
          "iteration": 0
        },
        "item": {
          "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:48 GMT"
            },
            {
              "key": "Content-Length",
              "value": "247"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"VE\",\"message\":{\"lang\":\"en\",\"value\":\"{\\\"errorKey\\\":\\\"Error-2_descr\\\",\\\"errorCode\\\":-2,\\\"errorDetails\\\":[{\\\"Desc\\\":\\\"Invalid profile group Id set.\\\",\\\"FieldName\\\":\\\"profileId\\\",\\\"Key\\\":\\\"add.feature.invalid.profile.groupId\\\"}]}\"}}}",
          "cookie": [],
          "responseTime": 579,
          "responseSize": 247,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "6c2362ba-9f3d-4f56-a2da-221120b9523e",
              "timestamp": 1480052508928,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "e4007f54-879a-4dfb-bdb5-57f101947ee3",
          "length": 13,
          "cycles": 1,
          "position": 4,
          "iteration": 0
        },
        "item": {
          "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/xml"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:49 GMT"
            },
            {
              "key": "Content-Length",
              "value": "163"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "<?xml version='1.0' encoding='UTF-8'?><error xmlns=\"http://schemas.microsoft.com/ado/2007/08/dataservices/metadata\"><code>OE</code><message xml:lang=\"en\"/></error>",
          "cookie": [],
          "responseTime": 594,
          "responseSize": 163,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
        "assertions": [
          {
            "assertion": "Account Management deleted.",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "Account Management deleted.",
              "stack": "AssertionFailure: Expected tests[\"Account Management deleted.\"] to be truth-like\n   at Object.eval test.js:1:5)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "e0f28ab8-937e-4a9e-8f7a-fc550d0b81c0",
          "length": 13,
          "cycles": 1,
          "position": 5,
          "iteration": 0
        },
        "item": {
          "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
          "name": "Add Business Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 10
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{{newReq}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:50 GMT"
            },
            {
              "key": "Content-Length",
              "value": "114"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OVE\",\"message\":{\"lang\":\"en\",\"value\":\"An exception of type 'MalformedJsonException' occurred.\"}}}",
          "cookie": [],
          "responseTime": 557,
          "responseSize": 114,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
        "assertions": [
          {
            "assertion": "Account Management added with entitlements entitled true.",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "Account Management added with entitlements entitled true.",
              "stack": "AssertionFailure: Expected tests[\"Account Management added with entitlements entitled true.\"] to be truth-like\n   at Object.eval test.js:1:6)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "df81d0e3-c063-4a73-8da0-56c62cb306e3",
          "length": 13,
          "cycles": 1,
          "position": 6,
          "iteration": 0
        },
        "item": {
          "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:51 GMT"
            },
            {
              "key": "Content-Length",
              "value": "247"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"VE\",\"message\":{\"lang\":\"en\",\"value\":\"{\\\"errorKey\\\":\\\"Error-2_descr\\\",\\\"errorCode\\\":-2,\\\"errorDetails\\\":[{\\\"Desc\\\":\\\"Invalid profile group Id set.\\\",\\\"FieldName\\\":\\\"profileId\\\",\\\"Key\\\":\\\"add.feature.invalid.profile.groupId\\\"}]}\"}}}",
          "cookie": [],
          "responseTime": 591,
          "responseSize": 247,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "50df04bd-3179-4822-9cea-f79b3b055b0b",
              "timestamp": 1480052511179,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "13c11552-8cbe-4f2f-83e8-0e6e4e39e7f6",
          "length": 13,
          "cycles": 1,
          "position": 7,
          "iteration": 0
        },
        "item": {
          "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
          "name": "Add Business Profile Features with entitlements (Valid Set) copy",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 17
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{{newReqChannel}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:52 GMT"
            },
            {
              "key": "Content-Length",
              "value": "114"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OVE\",\"message\":{\"lang\":\"en\",\"value\":\"An exception of type 'MalformedJsonException' occurred.\"}}}",
          "cookie": [],
          "responseTime": 1032,
          "responseSize": 114,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
        "assertions": [
          {
            "assertion": "Change entitlements to entitled false on channel for Account Management",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "Change entitlements to entitled false on channel for Account Management",
              "stack": "AssertionFailure: Expected tests[\"Change entitlements to entitled false on channel for Account Management\"] to be truth-like\n   at Object.eval test.js:1:8)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3c3a6ead-db3d-4d77-9aa1-0797973fd004",
          "length": 13,
          "cycles": 1,
          "position": 8,
          "iteration": 0
        },
        "item": {
          "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:53 GMT"
            },
            {
              "key": "Content-Length",
              "value": "247"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"VE\",\"message\":{\"lang\":\"en\",\"value\":\"{\\\"errorKey\\\":\\\"Error-2_descr\\\",\\\"errorCode\\\":-2,\\\"errorDetails\\\":[{\\\"Desc\\\":\\\"Invalid profile group Id set.\\\",\\\"FieldName\\\":\\\"profileId\\\",\\\"Key\\\":\\\"add.feature.invalid.profile.groupId\\\"}]}\"}}}",
          "cookie": [],
          "responseTime": 594,
          "responseSize": 247,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "54bc0a4a-de37-4770-b422-b9316061d6bc",
              "timestamp": 1480052513249,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b273731a-e487-455b-ac49-59f095926a2f",
          "length": 13,
          "cycles": 1,
          "position": 9,
          "iteration": 0
        },
        "item": {
          "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 19
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{{newReqWithLimit}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:53 GMT"
            },
            {
              "key": "Content-Length",
              "value": "114"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OVE\",\"message\":{\"lang\":\"en\",\"value\":\"An exception of type 'MalformedJsonException' occurred.\"}}}",
          "cookie": [],
          "responseTime": 564,
          "responseSize": 114,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
        "assertions": [
          {
            "assertion": "set limits for Account Management",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "set limits for Account Management",
              "stack": "AssertionFailure: Expected tests[\"set limits for Account Management\"] to be truth-like\n   at Object.eval test.js:1:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "32495e7e-4964-4318-a884-97302518cef3",
          "length": 13,
          "cycles": 1,
          "position": 10,
          "iteration": 0
        },
        "item": {
          "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    //if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:54 GMT"
            },
            {
              "key": "Content-Length",
              "value": "247"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"VE\",\"message\":{\"lang\":\"en\",\"value\":\"{\\\"errorKey\\\":\\\"Error-2_descr\\\",\\\"errorCode\\\":-2,\\\"errorDetails\\\":[{\\\"Desc\\\":\\\"Invalid profile group Id set.\\\",\\\"FieldName\\\":\\\"profileId\\\",\\\"Key\\\":\\\"add.feature.invalid.profile.groupId\\\"}]}\"}}}",
          "cookie": [],
          "responseTime": 606,
          "responseSize": 247,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "7af15eb3-a5e7-4bc5-a663-6bdf473cb24c",
              "timestamp": 1480052514839,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "5ed4a881-d151-4af4-9c12-b3a673e34421",
          "length": 13,
          "cycles": 1,
          "position": 11,
          "iteration": 0
        },
        "item": {
          "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
          "name": "Add Business Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 26
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{{newReqWithLimitChannel}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:55 GMT"
            },
            {
              "key": "Content-Length",
              "value": "114"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"OVE\",\"message\":{\"lang\":\"en\",\"value\":\"An exception of type 'MalformedJsonException' occurred.\"}}}",
          "cookie": [],
          "responseTime": 562,
          "responseSize": 114,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
        "assertions": [
          {
            "assertion": "set limits on channel for Account Management",
            "error": {
              "name": "AssertionFailure",
              "index": 0,
              "message": "set limits on channel for Account Management",
              "stack": "AssertionFailure: Expected tests[\"set limits on channel for Account Management\"] to be truth-like\n   at Object.eval test.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "0849f2ab-eab5-4920-ab82-53b6812e3376",
          "length": 13,
          "cycles": 1,
          "position": 12,
          "iteration": 0
        },
        "item": {
          "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    //if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.96.25.141:9445/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4141931803665659627"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSHEyeDVVamIvQ09rOTNOaTZBd2lxWEcxUU1YUEVzUDM1VmVYY1RDZUNpQlk9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.96.25.141:9445"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=00002VC42yPKesXhAUeveaslSji:30a58cb4-c233-4968-b4ea-0c9d0cee7bbe"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Bad Request",
          "code": 400,
          "header": [
            {
              "key": "X-Powered-By",
              "value": "Servlet/3.1"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "DataServiceVersion",
              "value": "1.0"
            },
            {
              "key": "Date",
              "value": "Fri, 25 Nov 2016 05:41:56 GMT"
            },
            {
              "key": "Content-Length",
              "value": "247"
            },
            {
              "key": "Connection",
              "value": "Close"
            }
          ],
          "body": "{\"error\":{\"code\":\"VE\",\"message\":{\"lang\":\"en\",\"value\":\"{\\\"errorKey\\\":\\\"Error-2_descr\\\",\\\"errorCode\\\":-2,\\\"errorDetails\\\":[{\\\"Desc\\\":\\\"Invalid profile group Id set.\\\",\\\"FieldName\\\":\\\"profileId\\\",\\\"Key\\\":\\\"add.feature.invalid.profile.groupId\\\"}]}\"}}}",
          "cookie": [],
          "responseTime": 588,
          "responseSize": 247,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
        "testScript": [
          {
            "error": {
              "name": "TypeError",
              "message": "Cannot read property 'results' of undefined",
              "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
              "checksum": "e88f12520d5aec786d78913275b6ebdb",
              "id": "9b436e3a-ec4f-4f8e-863d-c0530e00f9fa",
              "timestamp": 1480052516408,
              "stacktrace": [
                {
                  "fileName": "<anonymous>",
                  "lineNumber": 4,
                  "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "typeName": "Object",
                  "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 293,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 23,
                  "native": false
                },
                {
                  "fileName": "evalmachine.<anonymous>",
                  "lineNumber": 299,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 2,
                  "native": false
                },
                {
                  "fileName": "vm.js",
                  "lineNumber": 44,
                  "functionName": "Object.exports.runInContext",
                  "typeName": "Object",
                  "methodName": "exports.runInContext",
                  "columnNumber": 17,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 156,
                  "functionName": "_.extend._run",
                  "typeName": "_",
                  "methodName": "extend._run",
                  "columnNumber": 16,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
                  "lineNumber": 121,
                  "functionName": "_.extend.execute",
                  "typeName": "_",
                  "methodName": "extend.execute",
                  "columnNumber": 14,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
                  "lineNumber": 179,
                  "functionName": "",
                  "typeName": "PostmanCollectionRun",
                  "methodName": null,
                  "columnNumber": 27,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1144,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1018,
                  "functionName": "replenish",
                  "typeName": "Object",
                  "methodName": null,
                  "columnNumber": 21,
                  "native": false
                },
                {
                  "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
                  "lineNumber": 1022,
                  "functionName": null,
                  "typeName": null,
                  "methodName": null,
                  "columnNumber": 13,
                  "native": false
                }
              ]
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 3349
    },
    "failures": [
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "7cd92500-786f-4b33-9b9c-06cc18c26618",
          "timestamp": 1480052507321,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "",
                  "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c07bdc96-88fa-4e1e-b534-52dbfee11305",
          "length": 13,
          "cycles": 1,
          "position": 1,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "Account Management added without entitlements.",
          "stack": "AssertionFailure: Expected tests[\"Account Management added without entitlements.\"] to be truth-like\n   at Object.eval test.js:1:3)",
          "checksum": "9a56caa88b119b0fe38cc7203b25213a",
          "id": "7639e7d6-9a77-4940-a56b-2b68a6cc32ce",
          "timestamp": 1480052508104,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
          "name": "Add Business Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "001700cb-1f9f-425a-8e6c-405b9388d83b",
          "length": 13,
          "cycles": 1,
          "position": 2,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "6c2362ba-9f3d-4f56-a2da-221120b9523e",
          "timestamp": 1480052508928,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4c3b3c6a-735e-4600-8b19-a541e371a283",
          "length": 13,
          "cycles": 1,
          "position": 3,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "Account Management deleted.",
          "stack": "AssertionFailure: Expected tests[\"Account Management deleted.\"] to be truth-like\n   at Object.eval test.js:1:5)",
          "checksum": "9a9d8cb78c5bae3661127317c8bfc3a9",
          "id": "4a3ef907-5270-4f37-b7e2-b4477110ea63",
          "timestamp": 1480052509710,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "e4007f54-879a-4dfb-bdb5-57f101947ee3",
          "length": 13,
          "cycles": 1,
          "position": 4,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "Account Management added with entitlements entitled true.",
          "stack": "AssertionFailure: Expected tests[\"Account Management added with entitlements entitled true.\"] to be truth-like\n   at Object.eval test.js:1:6)",
          "checksum": "380561cae37dfe9066fa775f3217bb20",
          "id": "ad14871b-485c-4f93-956f-8bd268436e55",
          "timestamp": 1480052510411,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
          "name": "Add Business Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "e0f28ab8-937e-4a9e-8f7a-fc550d0b81c0",
          "length": 13,
          "cycles": 1,
          "position": 5,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "50df04bd-3179-4822-9cea-f79b3b055b0b",
          "timestamp": 1480052511179,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "df81d0e3-c063-4a73-8da0-56c62cb306e3",
          "length": 13,
          "cycles": 1,
          "position": 6,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "Change entitlements to entitled false on channel for Account Management",
          "stack": "AssertionFailure: Expected tests[\"Change entitlements to entitled false on channel for Account Management\"] to be truth-like\n   at Object.eval test.js:1:8)",
          "checksum": "3dfb673b3cf114a1a6ce41f96f7a498b",
          "id": "da4a6045-7c9d-4a4c-a1d9-a55606c3fb7e",
          "timestamp": 1480052512434,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
          "name": "Add Business Profile Features with entitlements (Valid Set) copy",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "13c11552-8cbe-4f2f-83e8-0e6e4e39e7f6",
          "length": 13,
          "cycles": 1,
          "position": 7,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "54bc0a4a-de37-4770-b422-b9316061d6bc",
          "timestamp": 1480052513249,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3c3a6ead-db3d-4d77-9aa1-0797973fd004",
          "length": 13,
          "cycles": 1,
          "position": 8,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "set limits for Account Management",
          "stack": "AssertionFailure: Expected tests[\"set limits for Account Management\"] to be truth-like\n   at Object.eval test.js:1:10)",
          "checksum": "0b8d506f82832b78447911ad88dce667",
          "id": "f21bad25-9214-4050-a016-3eb2ac736e38",
          "timestamp": 1480052514009,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "b273731a-e487-455b-ac49-59f095926a2f",
          "length": 13,
          "cycles": 1,
          "position": 9,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "7af15eb3-a5e7-4bc5-a663-6bdf473cb24c",
          "timestamp": 1480052514839,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    //if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "32495e7e-4964-4318-a884-97302518cef3",
          "length": 13,
          "cycles": 1,
          "position": 10,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "AssertionFailure",
          "index": 0,
          "message": "set limits on channel for Account Management",
          "stack": "AssertionFailure: Expected tests[\"set limits on channel for Account Management\"] to be truth-like\n   at Object.eval test.js:1:12)",
          "checksum": "27cadcc01374583605a6718e13e6ab24",
          "id": "9d07b025-7d24-481d-8858-b00cc23286d1",
          "timestamp": 1480052515572,
          "stacktrace": [
            {
              "fileName": "test.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
          "name": "Add Business Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "5ed4a881-d151-4af4-9c12-b3a673e34421",
          "length": 13,
          "cycles": 1,
          "position": 11,
          "iteration": 0
        }
      },
      {
        "error": {
          "name": "TypeError",
          "message": "Cannot read property 'results' of undefined",
          "stack": "TypeError: Cannot read property 'results' of undefined\n    at Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34), <anonymous>:4:21)\n    at evalmachine.<anonymous>:293:23\n    at evalmachine.<anonymous>:299:2\n    at Object.exports.runInContext (vm.js:44:17)\n    at _.extend._run (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:156:16)\n    at _.extend.execute (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js:121:14)\n    at PostmanCollectionRun.<anonymous> (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js:179:27)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1144:13\n    at replenish (C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1018:21)\n    at C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js:1022:13",
          "checksum": "e88f12520d5aec786d78913275b6ebdb",
          "id": "9b436e3a-ec4f-4f8e-863d-c0530e00f9fa",
          "timestamp": 1480052516408,
          "stacktrace": [
            {
              "fileName": "<anonymous>",
              "lineNumber": 4,
              "functionName": "Object.eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "typeName": "Object",
              "methodName": "eval (eval at <anonymous> (evalmachine.<anonymous>:284:34),",
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 293,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 23,
              "native": false
            },
            {
              "fileName": "evalmachine.<anonymous>",
              "lineNumber": 299,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 2,
              "native": false
            },
            {
              "fileName": "vm.js",
              "lineNumber": 44,
              "functionName": "Object.exports.runInContext",
              "typeName": "Object",
              "methodName": "exports.runInContext",
              "columnNumber": 17,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 156,
              "functionName": "_.extend._run",
              "typeName": "_",
              "methodName": "extend._run",
              "columnNumber": 16,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\uvm\\host.js",
              "lineNumber": 121,
              "functionName": "_.extend.execute",
              "typeName": "_",
              "methodName": "extend.execute",
              "columnNumber": 14,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\lib\\runner\\extensions\\event.command.js",
              "lineNumber": 179,
              "functionName": "",
              "typeName": "PostmanCollectionRun",
              "methodName": null,
              "columnNumber": 27,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1144,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1018,
              "functionName": "replenish",
              "typeName": "Object",
              "methodName": null,
              "columnNumber": 21,
              "native": false
            },
            {
              "fileName": "C:\\Users\\I329272\\AppData\\Roaming\\npm\\node_modules\\newman\\node_modules\\postman-runtime\\node_modules\\async\\dist\\async.js",
              "lineNumber": 1022,
              "functionName": null,
              "typeName": null,
              "methodName": null,
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "test-script:2:21",
        "source": {
          "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    //if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "parent": {
          "description": {
            "content": "",
            "type": "text/plain"
          },
          "id": "cf16610b-38ce-4924-ae15-2a768e170eb0",
          "name": "CB Feature Template",
          "item": [
            {
              "id": "7745ebd8-51ee-43e1-807f-b09cbe4c9fc3",
              "name": "Login",
              "request": {
                "url": "{{env}}/cb/odata/ns/authenticationservice/SecureUsers?action=init",
                "method": "POST",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\r\n               \"Id\": \"\",\r\n\r\n               \"UserName\": \"primaryadmin\",\r\n\r\n               \"AppType\": \"Business\",\r\n\r\n               \"Password\": \"Pass1234\",\r\n\r\n               \"ChannelType\": \"Web\"\r\n\r\n}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"Logged in as primaryadmin for iteration : \"+environment['featureName']] = responseCode.code === 201;",
                      "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                      "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                    ]
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "postman.setEnvironmentVariable('featureId',data['f_id']);",
                      "postman.setEnvironmentVariable('featureName',data['name']);"
                    ]
                  }
                }
              ]
            },
            {
              "id": "fbeaa77d-9f69-495b-8974-d734b7486993",
              "name": "get ProfileFeatures without assigning feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                      "",
                      "tests[\"\"+environment['featureName']+\" get without assigning.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "90b74044-6595-4f48-a0fc-ba2b7940d99b",
              "name": "Add Business Profile Feature without entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{reqPutOnlyFeature}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                      "",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                      "tests[\"\"+environment['featureName']+\" added without entitlements.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "df4b6a3e-0cd3-4c66-9583-c4708e15eee7",
              "name": "get ProfileFeatures entitlements",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsList = [];",
                      "var channelEntitlementsList = [];",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    entitlementsList.push(entitlement);",
                      "",
                      "    var channelEntitlement = {};",
                      "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    channelEntitlement.Entitled = false;",
                      "    channelEntitlementsList.push(channelEntitlement);",
                      " ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var channelEntitlement = {};",
                      "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        channelEntitlement.Entitled = false;",
                      "        channelEntitlementsList.push(channelEntitlement);",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "",
                      "postResponse.Feature = entObj;",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "entObjChannel.Entitlements = channelEntitlementsList; ",
                      "",
                      "",
                      "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                      "",
                      "tests[\"status code is 200 : OK for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "008d0f67-1b79-457a-b28d-9d7ac83bd27c",
              "name": "delete feature",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "DELETE",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "tests[\"\"+environment['featureName']+\" deleted.\"] = responseCode.code === 204;",
                      ""
                    ]
                  }
                }
              ]
            },
            {
              "id": "f9af7e37-5fe5-4751-a33b-eea78634a7c4",
              "name": "Add Business Profile Features with entitlements (Valid Set)",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReq}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"\"+environment['featureName']+\" added with entitlements entitled true.\"] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "66f98fba-f2d2-466f-b52c-1b17838fea0e",
              "name": "get ProfileFeatures with children and limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "var postResponse ={};",
                      "postResponse.ProfileId = \"{{Id}}\";",
                      "postResponse.FeatureId = \"{{featureId}}\";",
                      "",
                      "var postResponseChannel ={};",
                      "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                      "postResponseChannel.FeatureId = \"{{featureId}}\";",
                      "",
                      "var entObj = {};",
                      "var featureObj = {};",
                      "var entitlementsList = [];",
                      "var entObjChannel = {};",
                      "var featureObjChannel = {};",
                      "var entitlementsListChannel = [];",
                      "",
                      "var limitValue = 1600;",
                      "var limitList = [];",
                      "var limitListChannel = [];",
                      "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                      "",
                      "for(var i=0;i<4;i++)",
                      "{",
                      "    limitValue = limitValue/2;",
                      "    limitValueChannel = limitValue/2;",
                      "    var limitObj = {};",
                      "    limitObj.Period=periodType[i];",
                      "    limitObj.Amount=limitValue.toString()+\".00\";",
                      "    limitObj.ExceedWithApproval=true;",
                      "    limitList.push(limitObj);",
                      "    ",
                      "    var limitObjChannel = {};",
                      "    limitObjChannel.Period=periodType[i];",
                      "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                      "    limitObjChannel.ExceedWithApproval=true;",
                      "    limitListChannel.push(limitObjChannel);",
                      "}",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var entitlement = {};",
                      "    var limitArr = res[i].Limits.results;",
                      "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlement.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlement.Limits=limitList;",
                      "    }",
                      "    entitlementsList.push(entitlement);",
                      "    ",
                      "    var entitlementChannel = {};",
                      "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                      "    entitlementChannel.Entitled = true;",
                      "    if(limitArr.length>0)",
                      "    {",
                      "        entitlementChannel.Limits=limitListChannel;",
                      "    }",
                      "    entitlementsListChannel.push(entitlementChannel);",
                      "    ",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var entitlement = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlement.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlement.Limits=limitList;",
                      "        }",
                      "        entitlementsList.push(entitlement);",
                      "        ",
                      "        var entitlementChannel = {};",
                      "        var childlimitArr = childArr[j].Limits.results;",
                      "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                      "        entitlementChannel.Entitled = true;",
                      "        if(childlimitArr.length>0)",
                      "        {",
                      "            entitlementChannel.Limits=limitListChannel;",
                      "        }",
                      "        entitlementsListChannel.push(entitlementChannel);",
                      "        ",
                      "        ",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of \"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "",
                      "entObj.Entitlements = entitlementsList; ",
                      "postResponse.Feature = entObj;",
                      "",
                      "var jsonRequestBody = JSON.stringify(postResponse);",
                      "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                      "",
                      "entObjChannel.Entitlements = entitlementsListChannel; ",
                      "postResponseChannel.Feature = entObjChannel;",
                      "",
                      "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                      "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                      "tests[\"\"+environment['featureName']+\" expand limit,properties verified.\"] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "b704b40c-9f9c-462b-989b-20f42a3dab80",
              "name": "Add Business Profile Features with entitlements (Valid Set) copy",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"Change entitlements to entitled false on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "cfe2b42e-3998-496c-8185-2296ebd077a5",
              "name": "get ProfileFeatures with children entitled false on channel Verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    ",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "   for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                      "        ",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"Entitlements checked (false) on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "8fe9f173-60eb-4dc0-a89f-052c5d0ec4b7",
              "name": "Add Business Profile Features with entitlements with limits",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimit}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "7d42dd8d-d959-4c98-bc31-5324a1cbc8bc",
              "name": "get ProfileFeatures with children and limits verify",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null\"] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null\"] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "a9b4c70d-44b7-4f77-9983-89b3804fb7dc",
              "name": "Add Business Profile Features with entitlements with limits on Channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
                "method": "PUT",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{{newReqWithLimitChannel}}"
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "//var jsonData = JSON.parse(responseBody);",
                      "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                      "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                      "",
                      "tests[\"set limits on channel for \"+environment['featureName']] = responseCode.code === 204;"
                    ]
                  }
                }
              ]
            },
            {
              "id": "3f178950-bd95-44c3-ac90-279296f8f4c6",
              "name": "get ProfileFeatures with children and limits verify on channel",
              "request": {
                "url": "{{env}}/cb/odata/services/businessuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
                "method": "GET",
                "header": [
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "x-csrf-token",
                    "value": "{{x-csrf-token}}"
                  },
                  {
                    "description": {
                      "content": "",
                      "type": "text/plain"
                    },
                    "key": "TokenKey",
                    "value": "{{TokenKey}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": []
                },
                "description": {
                  "content": "",
                  "type": "text/plain"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "var jsonData = JSON.parse(responseBody);",
                      "var res = jsonData.d.results;",
                      "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                      "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                      "for(var i=0;i<res.length;i++)",
                      "{",
                      "    var propArr = res[i].Properties.results;",
                      "    var childArr = res[i].Childrens.results;",
                      "    var parentLimit = res[i].Limits.results;",
                      "    //if(parentLimit.length>0)",
                      "    {",
                      "        for(var k=0;k<parentLimit.length;k++)",
                      "        {",
                      "            tests[\"Limit for \"+environment['featureId']+\" \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "        }",
                      "    }",
                      "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                      "    tests[\"Feature \"+environment['featureId']+\" has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                      "    for(var j=0;j<childArr.length;j++)",
                      "    {",
                      "        var childLimit = childArr[j].Limits.results;",
                      "    //if(childLimit.length>0)",
                      "        {",
                      "        for(var k=0;k<childLimit.length;k++)",
                      "            {",
                      "            tests[\"Limit for \"+environment['featureId']+\" child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                      "            }",
                      "        }",
                      "        var childPropArr = childArr[j].Properties.results;",
                      "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                      "        //if(childPropArr.length>0)",
                      "            tests[\"Child Feature of\"+environment['featureId']+\" has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                      "    }",
                      "}",
                      "tests[\"check entitlements with limit on channel for \"+environment['featureName']] = responseCode.code === 200;"
                    ]
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "0849f2ab-eab5-4920-ab82-53b6812e3376",
          "length": 13,
          "cycles": 1,
          "position": 12,
          "iteration": 0
        }
      }
    ],
    "error": null
  }
}
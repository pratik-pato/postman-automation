{
  "collection": {
    "info": {
      "id": "b5db30aa-b88f-fa37-f824-fb8deb8e39d1",
      "name": "Retail Profile Features With Limit",
      "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
    },
    "event": [],
    "variable": [],
    "item": [
      {
        "description": {
          "content": "",
          "type": "text/plain"
        },
        "id": "f32f7a7c-bf57-49fb-a229-215ced93ab35",
        "name": "Retail Profile Feature Template",
        "item": [
          {
            "id": "930360a6-a291-4390-bfd5-621d35f1810a",
            "name": "Login",
            "request": {
              "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
              "method": "POST",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                    "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                    "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                  ]
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "postman.setEnvironmentVariable('featureId',data['f_id']);"
                  ]
                }
              }
            ]
          },
          {
            "id": "2fc512db-4247-4832-8939-57c10f387446",
            "name": "get ProfileFeatures without assigning feature",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                    "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                    "",
                    "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                    "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                    "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                    "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                  ]
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "postman.setEnvironmentVariable('featureId',data['f_id']);"
                  ]
                }
              }
            ]
          },
          {
            "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
            "name": "Add Retail User Profile Feature without entitlements",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{reqPutOnlyFeature}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                    "",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                    "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
            "name": "get ProfileFeatures entitlements",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsList = [];",
                    "var channelEntitlementsList = [];",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    entitlementsList.push(entitlement);",
                    "",
                    "    var channelEntitlement = {};",
                    "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    channelEntitlement.Entitled = false;",
                    "    channelEntitlementsList.push(channelEntitlement);",
                    " ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var channelEntitlement = {};",
                    "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        channelEntitlement.Entitled = false;",
                    "        channelEntitlementsList.push(channelEntitlement);",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "",
                    "postResponse.Feature = entObj;",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "entObjChannel.Entitlements = channelEntitlementsList; ",
                    "",
                    "",
                    "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                    "",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
            "name": "delete feature",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "DELETE",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                    ""
                  ]
                }
              }
            ]
          },
          {
            "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
            "name": "Add Retail User Profile Features with entitlements (Valid Set)",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReq}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
            "name": "get ProfileFeatures with children and limits",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entitlementsList = [];",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsListChannel = [];",
                    "",
                    "var limitValue = 1600;",
                    "var limitList = [];",
                    "var limitListChannel = [];",
                    "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                    "",
                    "for(var i=0;i<4;i++)",
                    "{",
                    "    limitValue = limitValue/2;",
                    "    limitValueChannel = limitValue/2;",
                    "    var limitObj = {};",
                    "    limitObj.Period=periodType[i];",
                    "    limitObj.Amount=limitValue.toString()+\".00\";",
                    "    limitObj.ExceedWithApproval=true;",
                    "    limitList.push(limitObj);",
                    "    ",
                    "    var limitObjChannel = {};",
                    "    limitObjChannel.Period=periodType[i];",
                    "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                    "    limitObjChannel.ExceedWithApproval=true;",
                    "    limitListChannel.push(limitObjChannel);",
                    "}",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    var limitArr = res[i].Limits.results;",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlement.Limits=limitList;",
                    "    }",
                    "    entitlementsList.push(entitlement);",
                    "    ",
                    "    var entitlementChannel = {};",
                    "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlementChannel.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlementChannel.Limits=limitListChannel;",
                    "    }",
                    "    entitlementsListChannel.push(entitlementChannel);",
                    "    ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlement.Limits=limitList;",
                    "        }",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var entitlementChannel = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlementChannel.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlementChannel.Limits=limitListChannel;",
                    "        }",
                    "        entitlementsListChannel.push(entitlementChannel);",
                    "        ",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "postResponse.Feature = entObj;",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                    "",
                    "entObjChannel.Entitlements = entitlementsListChannel; ",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
            "name": "Add Retail User Profile Features with entitlements (Valid Set)",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
            "name": "get ProfileFeatures with children entitled false on channel Verify",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    if (flg === false){fail = 1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "            if (flg === false){fail = 1;}",
                    "    }",
                    "}",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          },
          {
            "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
            "name": "Add Business Profile Features with entitlements with limits",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimit}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
            "name": "get ProfileFeatures with children and limits verify",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                    "        }",
                    "    }",
                    "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    if(flg === false){fail = 1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        if(flg === false){fail = 1;}",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          },
          {
            "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
            "name": "Add Retail User Profile Features with entitlements with limits on Channel",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimitChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
            "name": "get ProfileFeatures with children and limits verify on channel",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                    "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "        }",
                    "    }",
                    "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    if(flg === false){fail=1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        if(flg === false){fail=1;}",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          }
        ],
        "event": []
      }
    ]
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2016-11-04T10:40:18.451Z",
      "postman_exported_using": "Newman/3.2.0"
    },
    "id": "a481bb2c-55f3-60ae-abea-cb58e17b0cc5",
    "name": "RetailBanking",
    "values": [
      {
        "type": "any",
        "value": "https://10.97.188.237:8081",
        "key": "env"
      },
      {
        "type": "any",
        "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9",
        "key": "TokenKey"
      },
      {
        "type": "any",
        "value": "714183290182338203",
        "key": "x-csrf-token"
      },
      {
        "type": "any",
        "value": "2058",
        "key": "Id"
      },
      {
        "type": "any",
        "value": "2059",
        "key": "ChannelId"
      },
      {
        "type": "any",
        "value": "1401",
        "key": "featureId"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\"}",
        "key": "reqPutOnlyFeature"
      },
      {
        "type": "any",
        "value": "Others",
        "key": "featureName"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReq"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{ChannelId}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":false},{\"OperationName\":\"MBanking\",\"Entitled\":false},{\"OperationName\":\"Portal\",\"Entitled\":false},{\"OperationName\":\"Services\",\"Entitled\":false},{\"OperationName\":\"sessionRcpt\",\"Entitled\":false}]}}",
        "key": "newReqChannel"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReqWithLimit"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{ChannelId}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReqWithLimitChannel"
      }
    ]
  },
  "globals": {
    "id": "89861a93-a7a6-4380-9c66-81895cdbc173",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 8,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 120,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 416,
        "pending": 0,
        "failed": 0
      },
      "testScripts": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 16,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 341.1634615384615,
      "started": 1478256020584,
      "completed": 1478256068256
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 13,
          "cycles": 8,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "dc904446-6178-4c5d-baad-19e402f44e1e"
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "",
              "value": ""
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:51 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 1241,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 101"
          }
        ]
      },
      {
        "cursor": {
          "ref": "fd990d54-62e1-4c5e-815e-29e891742a41",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 0
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:51 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1401"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"101\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('101')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('101')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"101\",\"FeatureName\":\"Account Management\",\"FeatureGroupName\":\"Account and File Upload Management\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('101')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('101')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('101')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 326,
          "responseSize": 1401,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 101 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 101"
          },
          {
            "assertion": "Profile Id verified :2058 101"
          },
          {
            "assertion": "Feature Id verified :101"
          }
        ]
      },
      {
        "cursor": {
          "ref": "a4e5f572-ca18-4553-bb6f-e1d180b9df1e",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 0
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"101\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:52 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 990,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Account Management added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8564fa28-66a7-4473-8718-21e2e9e5e07e",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 0
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 263,
          "responseSize": 5836,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled false"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled false"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled false"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled false"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled false"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "69d80521-7554-476c-847d-7f68670ebe31",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 0
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 230,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Account Management deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2d664ef6-cb6e-46ca-b873-f80be1408de7",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 0
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 270,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Account Management added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "303d4af7-df49-4dae-b747-2285470ecdfb",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 0
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 326,
          "responseSize": 4964,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ff5850d4-be77-48b5-aa78-4b10eb114b34",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 0
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 322
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":false},{\"OperationName\":\"AccountAggregation\",\"Entitled\":false},{\"OperationName\":\"CheckImaging\",\"Entitled\":false},{\"OperationName\":\"History\",\"Entitled\":false},{\"OperationName\":\"OnlineStatement\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 255,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Account Management on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0a049496-d71e-4563-b37f-e5131a16290c",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 0
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 256,
          "responseSize": 4969,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled false"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled false"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled false"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled false"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled false"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "578e65aa-1c19-4a5b-9292-e265c6a388a3",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 0
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 292,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Account Management on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "680c517b-6cff-49bb-a757-173579c8c0ca",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 0
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 267,
          "responseSize": 4964,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "499bab8c-9da3-4349-a88f-6b394e5c271b",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 0
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 306,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Account Management on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "44abd4ec-19c5-46aa-a446-a9bdffd48a48",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 0
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 1178,
          "responseSize": 4964,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlement for Account Management are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "4de68b7e-4985-413a-b9e6-359ba2cb8f93",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 1,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:10:57 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:57 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 232,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 201"
          }
        ]
      },
      {
        "cursor": {
          "ref": "cbb2b6bf-03d4-4bb9-bfc0-ef95c9189678",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 1
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1377"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"201\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('201')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('201')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"201\",\"FeatureName\":\"Administration\",\"FeatureGroupName\":\"Administration\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('201')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('201')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('201')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 214,
          "responseSize": 1377,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 201 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 201"
          },
          {
            "assertion": "Profile Id verified :2058 201"
          },
          {
            "assertion": "Feature Id verified :201"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b81af67b-10a1-4647-b0b8-d9af9ab90b68",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 1
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"201\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 257,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Administration added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f5241194-0286-47b4-a111-856047ae5d96",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 1
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1180"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 220,
          "responseSize": 1180,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled false"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c5176ed9-a7e5-41da-b2f3-68a3047d9510",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 1
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 225,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Administration deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e7909ecf-1c1f-407b-9cc0-e70d070450f7",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 1
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:10:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 260,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Administration added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "030d5df8-ca39-4248-87b5-b3d2d2cc4363",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 1
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:00 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1005"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 226,
          "responseSize": 1005,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bd6a29db-b52c-4d64-9adb-eb072f9cd4d4",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 1
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 117
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:00 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 236,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Administration on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "23d41870-0b60-4ba5-a982-f884a8216ee3",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 1
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:00 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1006"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 218,
          "responseSize": 1006,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled false"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "65b60425-09ad-4ed3-85a7-c6a466b8b3e1",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 1
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:00 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 232,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Administration on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1c3cdf62-2ae0-407a-a8ff-a26f18e74a4b",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 1
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:01 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1005"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 215,
          "responseSize": 1005,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "7b428eee-245d-44e8-9841-763c76382f65",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 1
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:01 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 683,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Administration on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "362c0aab-a8d8-43c5-949c-6137a9acda0d",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 1
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:02 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1005"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 216,
          "responseSize": 1005,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlement for Administration are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "a369bb6c-a8f6-418b-95eb-58290aae8b77",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 2,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:02 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:02 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 215,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 601"
          }
        ]
      },
      {
        "cursor": {
          "ref": "310452e6-4593-49b4-9fdb-b71bd98f11d2",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 2
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1365"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"601\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('601')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('601')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"601\",\"FeatureName\":\"Payments\",\"FeatureGroupName\":\"Payments\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('601')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('601')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('601')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 274,
          "responseSize": 1365,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 601 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 601"
          },
          {
            "assertion": "Profile Id verified :2058 601"
          },
          {
            "assertion": "Feature Id verified :601"
          }
        ]
      },
      {
        "cursor": {
          "ref": "baddce18-939a-403a-ba04-127389919882",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 2
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"601\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 330,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Payments added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d38d7e44-01eb-4777-a060-7003684e2b48",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 2
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 283,
          "responseSize": 5274,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature Payments entitled false"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled false"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "9ccffb73-416b-4449-91a0-60dfb90eca94",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 2
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 251,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Payments deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c05e3558-7e1b-4c54-934a-4d22d23751e1",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 2
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 267
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 666,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Payments added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3d290130-9388-482b-826e-066c16b9c839",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 2
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 1228,
          "responseSize": 6069,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e273edc7-9dc0-41a3-a49c-c17fcf77ddf4",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 2
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 271
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":false},{\"OperationName\":\"Mobile Payments\",\"Entitled\":false},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":false},{\"OperationName\":\"Payees\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 280,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Payments on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "76e8c2a7-4d13-411c-b5fc-8d610a460306",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 2
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:07 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 1220,
          "responseSize": 6073,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature Payments entitled false"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled false"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "4ef9a363-bff2-4f8c-bf9c-eeea46b1b90c",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 2
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 549
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 345,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Payments on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "64b5b251-1dab-490d-8ba0-ec2e1163da4a",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 2
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1091')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1091')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1091\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1092')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1092')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1092\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1093')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1093')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1093\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1094')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1094')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1094\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 260,
          "responseSize": 6117,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "48a5566c-84e3-495a-87f8-8e9ec9452aa2",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 2
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 548
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 446,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Payments on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bc1dae0f-9746-4039-be62-1734a35fceb7",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 2
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1095')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1095')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1095\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1096')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1096')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1096\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1097')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1097')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1097\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1098')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1098')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1098\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 268,
          "responseSize": 6216,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Payments"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Payments"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Payments"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Payments"
          },
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlement for Payments are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3c05950c-3ab0-4342-a9f8-0137fbe0c413",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 3,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:10 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:10 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 216,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 603"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f437e4ac-6ce7-4503-8da0-0540308a1068",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 3
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1369"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"603\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('603')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('603')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"603\",\"FeatureName\":\"Stop Payment\",\"FeatureGroupName\":\"Payments\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('603')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('603')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('603')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 233,
          "responseSize": 1369,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 603 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 603"
          },
          {
            "assertion": "Profile Id verified :2058 603"
          },
          {
            "assertion": "Feature Id verified :603"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bd9a2c27-b8e9-489c-8934-b5940c95ef23",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 3
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"603\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 254,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Stop Payment added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d5a15c22-c11a-4cec-8111-2bc85d5e57e6",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 3
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1147"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 218,
          "responseSize": 1147,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature Stops entitled false"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8e8ab06b-09c1-493c-a647-5359b073b0b5",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 3
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 226,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Stop Payment deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1fcc54bb-bc1a-4c64-b527-687f511a6a74",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 3
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 267,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Stop Payment added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "acae6522-ae05-4b9e-bea3-282613b32236",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 3
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "981"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 217,
          "responseSize": 981,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e5a5c025-93eb-4e54-a1b6-8926bee57227",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 3
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 110
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 232,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Stop Payment on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "22977bab-2be6-490f-bafa-2a9ae5da6529",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 3
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "982"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 214,
          "responseSize": 982,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature Stops entitled false"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2f655a2e-a2f3-4ef8-97c8-811e4682034e",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 3
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:13 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 225,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Stop Payment on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f3470cde-7eeb-4bb5-8f05-38e56287d741",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 3
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:13 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "981"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 227,
          "responseSize": 981,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "488e7df8-5840-4807-93c3-0de5d11adeb1",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 3
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:14 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 537,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Stop Payment on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d36cea1b-113e-4fb6-8ce2-5ee960de98c4",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 3
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:14 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "981"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 215,
          "responseSize": 981,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlement for Stop Payment are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "4bac2b43-b97d-4e0b-a5ed-1e9853ce2411",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 4,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:14 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:14 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 226,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 701"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bcdbd383-51ab-451c-9baf-b18bcfdaf194",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 4
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:15 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1367"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"701\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('701')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('701')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"701\",\"FeatureName\":\"Transfers\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('701')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('701')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('701')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 262,
          "responseSize": 1367,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 701 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 701"
          },
          {
            "assertion": "Profile Id verified :2058 701"
          },
          {
            "assertion": "Feature Id verified :701"
          }
        ]
      },
      {
        "cursor": {
          "ref": "fc8d2bcb-e070-40f9-84fc-b6c7b5f4581d",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 4
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"701\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:15 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 314,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Transfers added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "325940ff-ee1b-4e3a-a915-f954e33ab5aa",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 4
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:15 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 279,
          "responseSize": 3982,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1d5611d6-0b65-4c39-8653-17ff3267bbd0",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 4
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:16 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 228,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Transfers deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1ef8cc4f-58f0-4fec-aff0-99ad1f11f0cb",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 4
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 229
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:16 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 320,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Transfers added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "9c3aeb4a-27ff-4157-86df-932dbb814707",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 4
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:16 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 273,
          "responseSize": 4944,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "5ac75872-4634-4c99-9de7-3b7ea979ae33",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 4
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 232
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":false},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":false},{\"OperationName\":\"Transfers Template\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:17 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 293,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "6ec6a400-13fc-4fc4-af66-037062eab40a",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 4
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:17 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 258,
          "responseSize": 4947,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2570e3e5-b27b-4bf3-86f7-c4b85a409f49",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 4
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 511
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:18 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 360,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0a57e27a-b64b-440e-9337-a8a9ba484eed",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 4
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:18 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1099')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1099')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1099\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1100')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1100')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1100\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1101')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1101')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1101\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1102')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1102')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1102\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 272,
          "responseSize": 4992,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b95830a6-e937-4d31-9672-c403fb12f29a",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 4
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 510
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:19 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 386,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "28dfd393-bd73-460b-b501-7caadcb803b5",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 4
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:19 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1103')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1103')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1103\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1104')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1104')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1104\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1105')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1105')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1105\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1106')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1106')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1106\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 258,
          "responseSize": 5091,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Transfers"
          },
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlement for Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "6dcac58b-bc58-40b8-92dc-50f79bf1212b",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 5,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:19 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:19 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 224,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 702"
          }
        ]
      },
      {
        "cursor": {
          "ref": "473661af-516e-4a58-a55a-83460d39e45a",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 5
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:20 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1376"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"702\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('702')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('702')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"702\",\"FeatureName\":\"External Transfers\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('702')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('702')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('702')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 264,
          "responseSize": 1376,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 702 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 702"
          },
          {
            "assertion": "Profile Id verified :2058 702"
          },
          {
            "assertion": "Feature Id verified :702"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d56ff406-a4c7-4d0c-ae39-8a9cfb7ac9c6",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 5
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"702\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:20 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 336,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : External Transfers added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "75ac5546-389f-4b11-8f0f-832333832bde",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 5
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:20 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 318,
          "responseSize": 4131,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "28cc2b6b-2759-463e-956c-71eb82fd2563",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 5
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:21 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 235,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature External Transfers deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ed88e7f8-e4dc-46d7-bc55-8cda5ffed377",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 5
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 249
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:21 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 309,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature External Transfers added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "7f76a876-103f-4719-b87d-8ef76d371540",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 5
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:22 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 283,
          "responseSize": 6575,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e517c7bf-1e1d-48d0-8d1d-521defdba911",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 5
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 252
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":false},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":false},{\"OperationName\":\"External Transfers From\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:22 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 308,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature External Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c8a64f34-1d58-49db-ad8f-31ab2c2947ef",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 5
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:22 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 295,
          "responseSize": 6578,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2da1dc16-e6c0-4df0-b86c-c58f3fc83d3f",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 5
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 813
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:23 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 596,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature External Transfers on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "9aab588d-c670-4487-84ba-449051c93feb",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 5
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:23 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1107')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1107')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1107\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1108')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1108')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1108\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1109')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1109')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1109\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1110')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1110')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1110\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1111')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1111')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1111\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1112')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1112')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1112\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1113')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1113')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1113\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1114')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1114')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1114\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 310,
          "responseSize": 6671,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is100.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Day is200.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Week is400.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Month is800.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d1854cda-3334-4a14-94f7-782a842e9b74",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 5
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 811
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:24 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 555,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature External Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1fa9e4c8-8941-426f-afc6-4796c14a55f8",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 5
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:25 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1115')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1115')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1115\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1116')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1116')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1116\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1117')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1117')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1117\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1118')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1118')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1118\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1119')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1119')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1119\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1120')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1120')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1120\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1121')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1121')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1121\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1122')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1122')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1122\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 316,
          "responseSize": 6869,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for External Transfers"
          },
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is50.00 and MaxLimitValue is :100.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Day is100.00 and MaxLimitValue is :200.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Week is200.00 and MaxLimitValue is :400.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Month is400.00 and MaxLimitValue is :800.00 for External Transfers"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlement for External Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "aeb23b9a-48e7-4088-8246-d18e32e98ddd",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 6,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:25 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:25 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 213,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 703"
          }
        ]
      },
      {
        "cursor": {
          "ref": "84380c4f-0efa-4a7d-aa28-af736ede5deb",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 6
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:25 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1387"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"703\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('703')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('703')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"703\",\"FeatureName\":\"Transfers To External Account\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('703')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('703')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('703')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 267,
          "responseSize": 1387,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 703 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 703"
          },
          {
            "assertion": "Profile Id verified :2058 703"
          },
          {
            "assertion": "Feature Id verified :703"
          }
        ]
      },
      {
        "cursor": {
          "ref": "37ea962e-5d31-43c6-849d-c841293ebed9",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 6
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"703\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:26 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 296,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Transfers To External Account added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "09765402-e725-48a6-b138-d9a1d67d5bcd",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 6
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:26 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 297,
          "responseSize": 2788,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "32dc921c-cad7-4f4e-bf06-9451c4c70821",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 6
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:27 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 216,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Transfers To External Account deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d9c168fa-4c35-4aec-a802-95f08b4bdd27",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 6
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 202
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:27 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 309,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Transfers To External Account added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c2818a6c-e820-4ab7-a2bb-bf83a0fc523a",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 6
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:27 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 282,
          "responseSize": 5408,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3004fd27-79ae-4529-a9b7-08ca1456c121",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 6
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 204
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":false},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:28 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 300,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers To External Account on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "af2da65e-a17c-45a4-b5d6-c7e3aaecea9e",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 6
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:28 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 295,
          "responseSize": 5410,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f76b69c2-a150-40fe-83f7-622f31558cf9",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 6
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 766
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:29 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 515,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers To External Account on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0d99a7d3-fecd-4ee5-aa71-a802a4cd634e",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 6
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:29 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1127')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1127')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1127\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1128')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1128')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1128\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1129')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1129')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1129\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1130')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1130')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1130\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1123')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1123')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1123\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1124')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1124')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1124\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1125')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1125')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1125\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1126')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1126')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1126\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 383,
          "responseSize": 5504,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is100.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Day is200.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Week is400.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Month is800.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "95b81638-63d2-470c-91dd-80671fcc2aea",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 6
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 764
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:30 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 1076,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Transfers To External Account on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2238b171-bdd2-485a-b8d7-5687e995c3fb",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 6
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:31 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1135')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1135')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1135\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1136')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1136')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1136\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1137')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1137')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1137\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1138')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1138')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1138\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1131')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1131')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1131\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1132')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1132')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1132\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1133')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1133')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1133\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1134')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Limits('1134')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"1134\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 911\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 301,
          "responseSize": 5702,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is50.00 and MaxLimitValue is :100.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Day is100.00 and MaxLimitValue is :200.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Week is200.00 and MaxLimitValue is :400.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Month is400.00 and MaxLimitValue is :800.00 for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlement for Transfers To External Account are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "83bbe35f-1202-442f-b818-555b37269431",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 7,
          "cr": true
        },
        "item": {
          "id": "930360a6-a291-4390-bfd5-621d35f1810a",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 16:11:31 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:31 GMT"
            },
            {
              "key": "Location",
              "value": "https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1226"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 219,
          "responseSize": 1226,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "930360a6-a291-4390-bfd5-621d35f1810a",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 1401"
          }
        ]
      },
      {
        "cursor": {
          "ref": "60dbe7da-c977-4f96-ba9e-8e71b75b0471",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 7
        },
        "item": {
          "id": "2fc512db-4247-4832-8939-57c10f387446",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:32 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1371"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2058\",\"FeatureId\":\"1401\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('1401')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('1401')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"1401\",\"FeatureName\":\"Others\",\"FeatureGroupName\":\"Others\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('1401')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('1401')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Features('1401')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 229,
          "responseSize": 1371,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "2fc512db-4247-4832-8939-57c10f387446",
        "assertions": [
          {
            "assertion": "Feature 1401 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 1401"
          },
          {
            "assertion": "Profile Id verified :2058 1401"
          },
          {
            "assertion": "Feature Id verified :1401"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f060303a-62d5-44f0-8b43-73268136bbd7",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 7
        },
        "item": {
          "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 39
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"1401\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:32 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 275,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "378c6d82-1681-41bf-91d4-7daf09c7a331",
        "assertions": [
          {
            "assertion": "Feature : Others added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "93f2f614-38eb-4ff8-9a9c-ab320e3a0f62",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 7
        },
        "item": {
          "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:32 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 238,
          "responseSize": 5715,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "812912c0-c63e-4a00-a2df-661ac1fdbf6f",
        "assertions": [
          {
            "assertion": "Feature faq entitled false"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature MBanking entitled false"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled false"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled false"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature sessionRcpt entitled false"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "09b8ac5a-a468-4625-bf45-9684d5dec9d6",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 7
        },
        "item": {
          "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:32 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 219,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "d23957c5-413e-4d3e-a99d-4eb5ce20a935",
        "assertions": [
          {
            "assertion": "Feature Others deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f17103b4-a4b5-415e-8238-f1a4ac5508a1",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 7
        },
        "item": {
          "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:33 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 291,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "34246e0f-5a87-4782-90ff-7f65b17acee5",
        "assertions": [
          {
            "assertion": "Feature Others added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b85e15de-d919-44fc-8182-3c73c2ab4d7a",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 7
        },
        "item": {
          "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:33 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 247,
          "responseSize": 4874,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e71f6b2d-41dd-40e1-be3b-8b62c08482e3",
        "assertions": [
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "a5c9b209-1caa-4c3d-8a8c-e2833e08a45b",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 7
        },
        "item": {
          "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 294
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":false},{\"OperationName\":\"MBanking\",\"Entitled\":false},{\"OperationName\":\"Portal\",\"Entitled\":false},{\"OperationName\":\"Services\",\"Entitled\":false},{\"OperationName\":\"sessionRcpt\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:34 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 266,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "94aea265-6065-4246-b0d7-c9a375d0ab3c",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Others on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "da41fcfa-a8ed-4855-8102-d6e09d07eaa4",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 7
        },
        "item": {
          "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:34 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Connection",
              "value": "close"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 263,
          "responseSize": 4879,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b3c0dc86-b077-4252-8bff-41e881d9f034",
        "assertions": [
          {
            "assertion": "Feature faq entitled false"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature MBanking entitled false"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled false"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled false"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature sessionRcpt entitled false"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d743ca6c-3a86-419b-97e5-b725289055e2",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 7
        },
        "item": {
          "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2058\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:35 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 619,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "ddb6c3cc-2384-4782-ab1c-bd52daebf81a",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Others on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "4905e8dd-ee78-4b75-938d-ddd3f506bffa",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 7
        },
        "item": {
          "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2058',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:35 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 240,
          "responseSize": 4874,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e553893c-c7a0-49e5-be0d-c6d42edd87e2",
        "assertions": [
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3b719519-a43e-4e25-aec2-d06eea05bbea",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 7
        },
        "item": {
          "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2059\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:35 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 294,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "385b12f3-0dcb-45da-be83-a3bfa96bc8f9",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Others on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b0ffd0ae-7bcb-49b0-8d1e-1922c3e64ee0",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 7
        },
        "item": {
          "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2059',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "10.97.188.237:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=E403B1575D33EBE746B5FD4ACBA1B05A8FF9DEC683466457079F145FA8C45183"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 16:11:36 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSDJkRXZkcXpnamJ4aTlyRW1CenlRVExqd2kxNjl0UjBtMGVjdXdnOGhZMkU9"
            },
            {
              "key": "x-csrf-token",
              "value": "714183290182338203"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://10.97.188.237:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 272,
          "responseSize": 4874,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f098c8b9-232d-426f-9928-9470706b8cbc",
        "assertions": [
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlement for Others are entitled True for channel profile"
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 191348
    },
    "failures": [],
    "error": null
  }
}
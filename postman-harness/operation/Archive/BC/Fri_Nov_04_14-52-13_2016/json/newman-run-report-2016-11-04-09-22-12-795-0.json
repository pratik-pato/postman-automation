{
  "collection": {
    "info": {
      "id": "b5db30aa-b88f-fa37-f824-fb8deb8e39d1",
      "name": "Retail Profile Features With Limit",
      "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
    },
    "event": [],
    "variable": [],
    "item": [
      {
        "description": {
          "content": "",
          "type": "text/plain"
        },
        "id": "fbd0ed7d-7f7b-48fa-9e7d-5d3e063f1d70",
        "name": "Retail Profile Feature Template",
        "item": [
          {
            "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
            "name": "Login",
            "request": {
              "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
              "method": "POST",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                    "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                    "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                  ]
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "postman.setEnvironmentVariable('featureId',data['f_id']);"
                  ]
                }
              }
            ]
          },
          {
            "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
            "name": "get ProfileFeatures without assigning feature",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                    "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                    "",
                    "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                    "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                    "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                    "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                  ]
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "postman.setEnvironmentVariable('featureId',data['f_id']);"
                  ]
                }
              }
            ]
          },
          {
            "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
            "name": "Add Retail User Profile Feature without entitlements",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{reqPutOnlyFeature}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                    "",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                    "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
            "name": "get ProfileFeatures entitlements",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsList = [];",
                    "var channelEntitlementsList = [];",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    entitlementsList.push(entitlement);",
                    "",
                    "    var channelEntitlement = {};",
                    "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    channelEntitlement.Entitled = false;",
                    "    channelEntitlementsList.push(channelEntitlement);",
                    " ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var channelEntitlement = {};",
                    "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        channelEntitlement.Entitled = false;",
                    "        channelEntitlementsList.push(channelEntitlement);",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "",
                    "postResponse.Feature = entObj;",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "entObjChannel.Entitlements = channelEntitlementsList; ",
                    "",
                    "",
                    "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                    "",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
            "name": "delete feature",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "DELETE",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                    ""
                  ]
                }
              }
            ]
          },
          {
            "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
            "name": "Add Retail User Profile Features with entitlements (Valid Set)",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReq}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
            "name": "get ProfileFeatures with children and limits",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "",
                    "var postResponse ={};",
                    "postResponse.ProfileId = \"{{Id}}\";",
                    "postResponse.FeatureId = \"{{featureId}}\";",
                    "",
                    "var postResponseChannel ={};",
                    "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                    "postResponseChannel.FeatureId = \"{{featureId}}\";",
                    "",
                    "var entObj = {};",
                    "var featureObj = {};",
                    "var entitlementsList = [];",
                    "var entObjChannel = {};",
                    "var featureObjChannel = {};",
                    "var entitlementsListChannel = [];",
                    "",
                    "var limitValue = 1600;",
                    "var limitList = [];",
                    "var limitListChannel = [];",
                    "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                    "",
                    "for(var i=0;i<4;i++)",
                    "{",
                    "    limitValue = limitValue/2;",
                    "    limitValueChannel = limitValue/2;",
                    "    var limitObj = {};",
                    "    limitObj.Period=periodType[i];",
                    "    limitObj.Amount=limitValue.toString()+\".00\";",
                    "    limitObj.ExceedWithApproval=true;",
                    "    limitList.push(limitObj);",
                    "    ",
                    "    var limitObjChannel = {};",
                    "    limitObjChannel.Period=periodType[i];",
                    "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                    "    limitObjChannel.ExceedWithApproval=true;",
                    "    limitListChannel.push(limitObjChannel);",
                    "}",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var entitlement = {};",
                    "    var limitArr = res[i].Limits.results;",
                    "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlement.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlement.Limits=limitList;",
                    "    }",
                    "    entitlementsList.push(entitlement);",
                    "    ",
                    "    var entitlementChannel = {};",
                    "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                    "    entitlementChannel.Entitled = true;",
                    "    if(limitArr.length>0)",
                    "    {",
                    "        entitlementChannel.Limits=limitListChannel;",
                    "    }",
                    "    entitlementsListChannel.push(entitlementChannel);",
                    "    ",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var entitlement = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlement.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlement.Limits=limitList;",
                    "        }",
                    "        entitlementsList.push(entitlement);",
                    "        ",
                    "        var entitlementChannel = {};",
                    "        var childlimitArr = childArr[j].Limits.results;",
                    "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                    "        entitlementChannel.Entitled = true;",
                    "        if(childlimitArr.length>0)",
                    "        {",
                    "            entitlementChannel.Limits=limitListChannel;",
                    "        }",
                    "        entitlementsListChannel.push(entitlementChannel);",
                    "        ",
                    "        ",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "",
                    "entObj.Entitlements = entitlementsList; ",
                    "postResponse.Feature = entObj;",
                    "",
                    "var jsonRequestBody = JSON.stringify(postResponse);",
                    "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                    "",
                    "entObjChannel.Entitlements = entitlementsListChannel; ",
                    "postResponseChannel.Feature = entObjChannel;",
                    "",
                    "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                    "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                  ]
                }
              }
            ]
          },
          {
            "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
            "name": "Add Retail User Profile Features with entitlements (Valid Set)",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
            "name": "get ProfileFeatures with children entitled false on channel Verify",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    ",
                    "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                    "    if (flg === false){fail = 1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "   for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                    "        ",
                    "        //if(childPropArr.length>0)",
                    "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "            if (flg === false){fail = 1;}",
                    "    }",
                    "}",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          },
          {
            "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
            "name": "Add Business Profile Features with entitlements with limits",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimit}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "",
                    "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
            "name": "get ProfileFeatures with children and limits verify",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                    "        }",
                    "    }",
                    "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    if(flg === false){fail = 1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        if(flg === false){fail = 1;}",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          },
          {
            "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
            "name": "Add Retail User Profile Features with entitlements with limits on Channel",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
              "method": "PUT",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "raw",
                "raw": "{{newReqWithLimitChannel}}"
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "//var jsonData = JSON.parse(responseBody);",
                    "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                    "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                    "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                  ]
                }
              }
            ]
          },
          {
            "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
            "name": "get ProfileFeatures with children and limits verify on channel",
            "request": {
              "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
              "method": "GET",
              "header": [
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Accept",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "TokenKey",
                  "value": "{{TokenKey}}"
                },
                {
                  "description": {
                    "content": "",
                    "type": "text/plain"
                  },
                  "key": "x-csrf-token",
                  "value": "{{x-csrf-token}}"
                }
              ],
              "body": {
                "mode": "formdata",
                "formdata": []
              },
              "description": {
                "content": "",
                "type": "text/plain"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "type": "text/javascript",
                  "exec": [
                    "var jsonData = JSON.parse(responseBody);",
                    "var res = jsonData.d.results;",
                    "var fail = 0;",
                    "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                    "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                    "for(var i=0;i<res.length;i++)",
                    "{",
                    "    var propArr = res[i].Properties.results;",
                    "    var childArr = res[i].Childrens.results;",
                    "    var parentLimit = res[i].Limits.results;",
                    "    if(parentLimit.length>0)",
                    "    {",
                    "        for(var k=0;k<parentLimit.length;k++)",
                    "        {",
                    "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "        }",
                    "    }",
                    "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                    "    if(flg === false){fail=1;}",
                    "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                    "    for(var j=0;j<childArr.length;j++)",
                    "    {",
                    "        var childLimit = childArr[j].Limits.results;",
                    "    //if(childLimit.length>0)",
                    "        {",
                    "        for(var k=0;k<childLimit.length;k++)",
                    "            {",
                    "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                    "            }",
                    "        }",
                    "        var childPropArr = childArr[j].Properties.results;",
                    "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                    "        if(flg === false){fail=1;}",
                    "        //if(childPropArr.length>0)",
                    "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                    "    }",
                    "}",
                    "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                  ]
                }
              }
            ]
          }
        ],
        "event": []
      }
    ]
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2016-11-04T09:21:49.091Z",
      "postman_exported_using": "Newman/3.2.0"
    },
    "id": "a481bb2c-55f3-60ae-abea-cb58e17b0cc5",
    "name": "RetailBanking",
    "values": [
      {
        "type": "any",
        "value": "https://localhost:8081",
        "key": "env"
      },
      {
        "type": "any",
        "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9",
        "key": "TokenKey"
      },
      {
        "type": "any",
        "value": "4466610598211596641",
        "key": "x-csrf-token"
      },
      {
        "type": "any",
        "value": "2948",
        "key": "Id"
      },
      {
        "type": "any",
        "value": "2949",
        "key": "ChannelId"
      },
      {
        "type": "any",
        "value": "1401",
        "key": "featureId"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\"}",
        "key": "reqPutOnlyFeature"
      },
      {
        "type": "any",
        "value": "Others",
        "key": "featureName"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReq"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{ChannelId}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":false},{\"OperationName\":\"Portal\",\"Entitled\":false},{\"OperationName\":\"Services\",\"Entitled\":false},{\"OperationName\":\"faq\",\"Entitled\":false},{\"OperationName\":\"sessionRcpt\",\"Entitled\":false}]}}",
        "key": "newReqChannel"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{Id}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReqWithLimit"
      },
      {
        "type": "any",
        "value": "{\"ProfileId\":\"{{ChannelId}}\",\"FeatureId\":\"{{featureId}}\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}",
        "key": "newReqWithLimitChannel"
      }
    ]
  },
  "globals": {
    "id": "b254543b-9c7c-484e-8aa2-c9a82bf8b862",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 8,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 120,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 416,
        "pending": 0,
        "failed": 0
      },
      "testScripts": {
        "total": 104,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 16,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 95.48076923076923,
      "started": 1478251311167,
      "completed": 1478251332622
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 13,
          "cycles": 8,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "33b691be-2bdc-46d5-a84e-acae98ae583d"
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "",
              "value": ""
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:52 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 82,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 101"
          }
        ]
      },
      {
        "cursor": {
          "ref": "fca13f43-dc31-4749-b8d8-8c6ab9527b52",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 0
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:52 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1369"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"101\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('101')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('101')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"101\",\"FeatureName\":\"Account Management\",\"FeatureGroupName\":\"Account and File Upload Management\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('101')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('101')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('101')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 45,
          "responseSize": 1369,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 101 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 101"
          },
          {
            "assertion": "Profile Id verified :2948 101"
          },
          {
            "assertion": "Feature Id verified :101"
          }
        ]
      },
      {
        "cursor": {
          "ref": "4a80f5ce-f26f-4acf-aca0-e12f5d038f92",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 0
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"101\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:52 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 62,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Account Management added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e48b2675-512c-4fd4-9477-8e763b1d4780",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 0
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:52 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 46,
          "responseSize": 5736,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled false"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled false"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled false"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled false"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled false"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f59f4bb5-e664-4cbd-aca1-ec76a1e7213a",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 0
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:52 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 40,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Account Management deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3ead7c06-3b9f-4aad-b628-914adfe321cf",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 0
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 59,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Account Management added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1cbda0b4-02c5-4d8f-a426-20b691f89ed7",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 0
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 58,
          "responseSize": 4884,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "04d4932c-de66-47e1-9b50-1027941d22aa",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 0
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 322
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":false},{\"OperationName\":\"AccountAggregation\",\"Entitled\":false},{\"OperationName\":\"CheckImaging\",\"Entitled\":false},{\"OperationName\":\"History\",\"Entitled\":false},{\"OperationName\":\"OnlineStatement\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 45,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Account Management on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b867e942-4a58-4513-9372-2d5bb728eb78",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 0
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 31,
          "responseSize": 4889,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled false"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled false"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled false"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled false"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled false"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "76ad976f-cd55-45a0-b090-d8d275d81de4",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 0
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 69,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Account Management on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b9fc85e2-9b20-4f47-ae52-f85c768160e7",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 0
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:53 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 37,
          "responseSize": 4884,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlements for Account Management are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "25a23c6f-0a4c-4a9e-ad5e-45007dfe8f0c",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 0
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='101')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 317
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"101\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Account Setup\",\"Entitled\":true},{\"OperationName\":\"AccountAggregation\",\"Entitled\":true},{\"OperationName\":\"CheckImaging\",\"Entitled\":true},{\"OperationName\":\"History\",\"Entitled\":true},{\"OperationName\":\"OnlineStatement\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 61,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Account Management on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bf72d350-018d-49e2-9ba8-d2622ba0ad51",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 0
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='101')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Account%20Setup',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Account Setup\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Setup\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='AccountAggregation',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"AccountAggregation\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account Aggregation\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='CheckImaging',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"CheckImaging\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Check Imaging\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='History',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"History\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Account History\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='OnlineStatement',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"OnlineStatement\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Online Statement\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 40,
          "responseSize": 4884,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Feature Account Setup entitled true"
          },
          {
            "assertion": "Feature has display name =Account Setup"
          },
          {
            "assertion": "Feature AccountAggregation entitled true"
          },
          {
            "assertion": "Feature has display name =Account Aggregation"
          },
          {
            "assertion": "Feature CheckImaging entitled true"
          },
          {
            "assertion": "Feature has display name =Check Imaging"
          },
          {
            "assertion": "Feature History entitled true"
          },
          {
            "assertion": "Feature has display name =Account History"
          },
          {
            "assertion": "Feature OnlineStatement entitled true"
          },
          {
            "assertion": "Feature has display name =Online Statement"
          },
          {
            "assertion": "All Entitlement for Account Management are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b02395ec-f754-4da9-a5cb-20207b813f53",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 1,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:21:54 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 30,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 201"
          }
        ]
      },
      {
        "cursor": {
          "ref": "18a993cf-5929-4e94-9de6-68bead2c06f3",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 1
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1345"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"201\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('201')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('201')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"201\",\"FeatureName\":\"Administration\",\"FeatureGroupName\":\"Administration\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('201')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('201')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('201')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 1345,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 201 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 201"
          },
          {
            "assertion": "Profile Id verified :2948 201"
          },
          {
            "assertion": "Feature Id verified :201"
          }
        ]
      },
      {
        "cursor": {
          "ref": "3086840e-89ee-46af-be75-098e5f431a56",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 1
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"201\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 39,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Administration added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b07dccbe-f3c6-4f9b-abb4-fda66e7e9a17",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 1
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1160"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 23,
          "responseSize": 1160,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled false"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ceae0674-f1f4-47ba-9bb7-aa8fed7c041c",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 1
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:54 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 21,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Administration deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bca7711e-f2ab-4663-9d71-d3bd879524e8",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 1
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 45,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Administration added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b9ebbd61-6c3e-45b8-a6d4-868e21027b27",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 1
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "989"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 989,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0b141ef9-7118-4eb9-afa1-f9f5af5b9729",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 1
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 117
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 30,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Administration on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c930649c-916e-4c24-b59f-1a6d0d47915b",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 1
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "990"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 25,
          "responseSize": 990,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled false"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "566dfdba-9c09-4cbc-818b-2953162dcbd8",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 1
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 37,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Administration on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bbaa4eb6-4ac2-4fab-b165-1cc6848f94a0",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 1
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "989"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 23,
          "responseSize": 989,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlements for Administration are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "5f1abedb-d5fb-4158-b66c-fb20b975780e",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 1
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='201')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 116
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"201\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Manage Users\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 48,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Administration on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "50d49a3d-bd6a-47fb-86a8-7577035c1cc2",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 1
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='201')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "989"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Manage%20Users',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Manage Users\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Users\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 20,
          "responseSize": 989,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Feature Manage Users entitled true"
          },
          {
            "assertion": "Feature has display name =Manage Users"
          },
          {
            "assertion": "All Entitlement for Administration are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d294b631-61d2-4e2e-95cb-4b67ca3069ef",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 2,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:21:55 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:55 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 601"
          }
        ]
      },
      {
        "cursor": {
          "ref": "6bbf2ef6-9498-4fbd-b1c5-10ad714fe361",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 2
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1333"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"601\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('601')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('601')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"601\",\"FeatureName\":\"Payments\",\"FeatureGroupName\":\"Payments\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('601')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('601')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('601')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 40,
          "responseSize": 1333,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 601 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 601"
          },
          {
            "assertion": "Profile Id verified :2948 601"
          },
          {
            "assertion": "Feature Id verified :601"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8195c9a6-ced7-4f0b-894c-bf1b207143ab",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 2
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"601\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 59,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Payments added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "455c7887-8f25-4e04-aa78-9987b57c9251",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 2
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 44,
          "responseSize": 5182,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature Payments entitled false"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled false"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "cd6b63ee-8492-4fa9-b67b-3a80c4be0376",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 2
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 27,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Payments deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "483f59e2-b087-4079-8b47-a465070c1187",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 2
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 267
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 57,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Payments added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "cbce6354-cd88-4107-827d-81961fe75170",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 2
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 57,
          "responseSize": 5961,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b1566056-0429-4d7a-92b4-8dce89ec0042",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 2
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 271
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":false},{\"OperationName\":\"Mobile Payments\",\"Entitled\":false},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":false},{\"OperationName\":\"Payees\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:56 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 51,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Payments on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "96c2ae5d-6e18-4d76-83c1-5685453b3728",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 2
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 47,
          "responseSize": 5965,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature Payments entitled false"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled false"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e9b3c389-97cc-4fe1-b6f2-51dd39310f59",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 2
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 549
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 96,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Payments on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "99242362-e444-43c1-b55b-8135a67ca390",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 2
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7624')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7624')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7624\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7625')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7625')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7625\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7626')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7626')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7626\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7627')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7627')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7627\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 51,
          "responseSize": 6009,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Payments"
          },
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlements for Payments are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "425fb306-3f95-4e19-85a8-d008fdc716ed",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 2
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='601')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 548
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"601\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Payments\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Mobile Payments\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Payments\",\"Entitled\":true},{\"OperationName\":\"Payees\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 127,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Payments on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e48070f5-aa11-4174-8588-2298892bf0c5",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 2
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='601')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7628')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7628')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7628\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7629')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7629')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7629\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7630')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7630')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7630\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7631')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7631')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7631\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Payments\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Mobile Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Mobile%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Payments\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Payments\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Payments',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Payees\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Manage Payees\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Payees',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 47,
          "responseSize": 6108,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Payments"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Payments"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Payments"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Payments"
          },
          {
            "assertion": "Feature Payments entitled true"
          },
          {
            "assertion": "Feature has display name =Payments"
          },
          {
            "assertion": "Feature Mobile Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Mobile Payments"
          },
          {
            "assertion": "Feature Multi-Currency Payments entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Payments"
          },
          {
            "assertion": "Feature Payees entitled true"
          },
          {
            "assertion": "Child Feature has display name =Manage Payees"
          },
          {
            "assertion": "All Entitlement for Payments are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "17e72695-3807-4235-9042-2aa3bd0c65a0",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 3,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:21:57 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:57 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 22,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 603"
          }
        ]
      },
      {
        "cursor": {
          "ref": "7c48ab5e-5013-4bce-bb99-01729535fe20",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 3
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1337"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"603\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('603')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('603')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"603\",\"FeatureName\":\"Stop Payment\",\"FeatureGroupName\":\"Payments\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('603')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('603')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('603')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 1337,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 603 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 603"
          },
          {
            "assertion": "Profile Id verified :2948 603"
          },
          {
            "assertion": "Feature Id verified :603"
          }
        ]
      },
      {
        "cursor": {
          "ref": "875f1fe4-4076-435d-b749-a3ead6489c2c",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 3
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"603\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 34,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Stop Payment added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "35ca6a37-4a2c-46c8-844e-51ce0d7d9de7",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 3
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1127"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 20,
          "responseSize": 1127,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature Stops entitled false"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ac8b0113-90f1-4572-9f19-fb602505e7e9",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 3
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 22,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Stop Payment deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "73124c52-f07f-4528-ba22-b3a3bc765a56",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 3
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 33,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Stop Payment added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "80b27b24-8ff9-4baf-8ebf-7db6ca485c8d",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 3
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "965"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 21,
          "responseSize": 965,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c2bca0c7-6504-4360-95ce-ee6aca00ca3e",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 3
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 110
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 28,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Stop Payment on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "79454914-a612-4b3e-83cd-6bbe4355ae78",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 3
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "966"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 34,
          "responseSize": 966,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature Stops entitled false"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "de35a293-ed00-4d95-8c00-05b995af6362",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 3
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:58 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 26,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Stop Payment on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "10005d82-66a9-4177-9f87-01e2b94c9b54",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 3
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "965"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 24,
          "responseSize": 965,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlements for Stop Payment are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2335a23f-67ef-444e-9731-9e3daed39836",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 3
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='603')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 109
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"603\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Stops\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 31,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Stop Payment on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0402e6fa-8bb9-4366-b2bb-e81aa05f5a1f",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 3
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='603')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "965"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Stops',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Stops\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Stop Payments\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 965,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Feature Stops entitled true"
          },
          {
            "assertion": "Feature has display name =Stop Payments"
          },
          {
            "assertion": "All Entitlement for Stop Payment are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f21f0b69-4b85-42af-9840-fbe2472e493b",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 4,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:21:59 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 19,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 701"
          }
        ]
      },
      {
        "cursor": {
          "ref": "aed80a23-6a9e-4bcb-98b9-a493461c74b8",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 4
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1335"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"701\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('701')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('701')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"701\",\"FeatureName\":\"Transfers\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('701')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('701')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('701')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 40,
          "responseSize": 1335,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 701 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 701"
          },
          {
            "assertion": "Profile Id verified :2948 701"
          },
          {
            "assertion": "Feature Id verified :701"
          }
        ]
      },
      {
        "cursor": {
          "ref": "60be7623-1745-48f7-8fd6-5b1bb86f2bf4",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 4
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"701\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:21:59 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 57,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Transfers added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "a04606c7-de29-4bfa-a1bc-5f39ea965294",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 4
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 3734,
          "responseSize": 3914,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "928e49be-bbce-416d-9448-8fe0b87bc5c5",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 4
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 24,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Transfers deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f3119b25-fb7d-41d6-bc58-7dc98b7219fc",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 4
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 229
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 72,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Transfers added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "53249d6b-8e9b-41f5-a346-03c77db5d3f8",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 4
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:03 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 39,
          "responseSize": 4856,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "65972bd2-9f6e-4a29-8e6e-7e36ad5ea8a4",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 4
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 232
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":false},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":false},{\"OperationName\":\"Transfers Template\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 46,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "45eb9f6c-8b26-43f7-90c6-a87202a98d2e",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 4
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 47,
          "responseSize": 4859,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled false"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "adb13abb-4e24-4ad1-95c8-2c4df7e9d3d1",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 4
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 511
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 97,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "064cc059-84a9-4890-b95a-639edd24f701",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 4
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:04 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7632')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7632')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7632\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7633')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7633')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7633\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7634')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7634')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7634\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7635')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7635')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7635\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 56,
          "responseSize": 4904,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Transfers"
          },
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlements for Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d0f0d689-e1d0-427d-addc-2e6ba875fd9b",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 4
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='701')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 510
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"701\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"Multi-Currency Transfers\",\"Entitled\":true},{\"OperationName\":\"Transfers Template\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:05 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 1214,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d049c4e8-d411-405c-99b4-e6f4a623084e",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 4
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='701')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:05 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7636')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7636')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7636\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7637')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7637')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7637\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7638')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7638')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7638\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7639')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7639')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7639\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Multi-Currency Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Multi-Currency Transfers\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Multi-Currency%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Transfers Template\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Template\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='Transfers%20Template',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 47,
          "responseSize": 5003,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Transfers"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Transfers"
          },
          {
            "assertion": "Feature Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers"
          },
          {
            "assertion": "Feature Multi-Currency Transfers entitled true"
          },
          {
            "assertion": "Child Feature has display name =Multi-Currency Transfers"
          },
          {
            "assertion": "Feature Transfers Template entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Template"
          },
          {
            "assertion": "All Entitlement for Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "9a62f5df-3957-4eeb-a3a9-5a7c23298b09",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 5,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:22:06 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 24,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 702"
          }
        ]
      },
      {
        "cursor": {
          "ref": "75baa322-5840-4bd1-83ef-918b448db85d",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 5
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1344"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"702\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('702')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('702')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"702\",\"FeatureName\":\"External Transfers\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('702')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('702')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('702')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 43,
          "responseSize": 1344,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 702 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 702"
          },
          {
            "assertion": "Profile Id verified :2948 702"
          },
          {
            "assertion": "Feature Id verified :702"
          }
        ]
      },
      {
        "cursor": {
          "ref": "55c5a7dc-82a6-4071-a278-6ae2900523bd",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 5
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"702\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 81,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : External Transfers added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b0cf43cf-674d-4014-a8cc-f54fa248e2f4",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 5
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 58,
          "responseSize": 4063,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "439fa388-a542-423e-a7f6-e41dcea97f1e",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 5
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 30,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature External Transfers deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0f47fc0d-b33c-48ae-ab3c-8c0b881abbdc",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 5
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 249
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 73,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature External Transfers added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b18473df-ccec-4a9f-b455-8c8daae83940",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 5
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:06 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 48,
          "responseSize": 6455,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "17f840a8-ef59-4ce5-bb53-c7c48f3fc326",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 5
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 252
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":false},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":false},{\"OperationName\":\"External Transfers From\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:07 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 52,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature External Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ee93e193-a94b-4aec-b77c-cd0cb3aab54f",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 5
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:07 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 72,
          "responseSize": 6458,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature External Transfers entitled false"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Feature External Transfers From entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "6182518c-3b4b-4107-8aee-3f2d51cecf3e",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 5
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 813
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:07 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 134,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature External Transfers on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c663a78f-684f-4ecf-af19-f7702511b102",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 5
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:07 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7640')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7640')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7640\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7641')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7641')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7641\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7642')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7642')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7642\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7643')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7643')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7643\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7644')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7644')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7644\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7645')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7645')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7645\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7646')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7646')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7646\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7647')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7647')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7647\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 45,
          "responseSize": 6551,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is100.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Day is200.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Week is400.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Limit for child Per Month is800.00 and MaxLimitValue is null for External Transfers"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlements for External Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ed4b0b70-0d56-4815-8574-768a6cfe8292",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 5
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='702')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 811
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"702\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers Add Account\",\"Entitled\":true},{\"OperationName\":\"External Transfers From\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 212,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature External Transfers on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "51470100-bfec-4c5f-a58c-5dd34dddd58d",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 5
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='702')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7648')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7648')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7648\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7649')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7649')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7649\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7650')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7650')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7650\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7651')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7651')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7651\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"External Transfers\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers Add Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers Add External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20Add%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers From\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7652')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7652')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7652\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7653')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7653')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7653\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7654')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7654')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7654\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7655')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7655')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7655\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers From External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20From',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 51,
          "responseSize": 6749,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for External Transfers"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for External Transfers"
          },
          {
            "assertion": "Feature External Transfers entitled true"
          },
          {
            "assertion": "Feature has display name =External Transfers"
          },
          {
            "assertion": "Feature External Transfers Add Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers Add External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is50.00 and MaxLimitValue is :100.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Day is100.00 and MaxLimitValue is :200.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Week is200.00 and MaxLimitValue is :400.00 for External Transfers"
          },
          {
            "assertion": "Limit for child Per Month is400.00 and MaxLimitValue is :800.00 for External Transfers"
          },
          {
            "assertion": "Feature External Transfers From entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers From External Account"
          },
          {
            "assertion": "All Entitlement for External Transfers are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "d41afd83-07ed-45ab-804c-d83253adead4",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 6,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:22:08 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 26,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 703"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0d59d800-4a59-468e-a270-d367d565dd94",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 6
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1355"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"703\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('703')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('703')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"703\",\"FeatureName\":\"Transfers To External Account\",\"FeatureGroupName\":\"Transfers\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('703')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('703')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('703')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 41,
          "responseSize": 1355,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 703 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 703"
          },
          {
            "assertion": "Profile Id verified :2948 703"
          },
          {
            "assertion": "Feature Id verified :703"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8fa3fe50-da17-458d-b9a6-26b7730846ae",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 6
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 38
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"703\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 56,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Transfers To External Account added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8dc81c8c-797d-47ab-980c-1f25c14a03d1",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 6
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:08 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 44,
          "responseSize": 2744,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "70a20c04-e345-4fc2-b19a-977f3d620029",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 6
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 40,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Transfers To External Account deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "0121188e-1f46-4a86-b617-17f368cfe961",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 6
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 202
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 66,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Transfers To External Account added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "bab39c77-6c80-4f3b-85ef-f124b073fed5",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 6
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 44,
          "responseSize": 5308,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "08bece5d-fe22-4aee-a02f-6711e8975418",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 6
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 204
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":false},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 68,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers To External Account on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "2bd2053d-f48c-4071-8398-36ab717f003e",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 6
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Transaction\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Day\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Week\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('0')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"0\",\"Period\":\"Per Month\",\"Amount\":null,\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":false}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 65,
          "responseSize": 5310,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature External Transfers To entitled false"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled false"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "271e779c-1f78-4186-bab3-1c20f22a3c23",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 6
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 766
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 152,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Transfers To External Account on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "afaba23d-b41b-42a9-9c82-e8eeff3a7396",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 6
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:09 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7660')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7660')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7660\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7661')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7661')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7661\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7662')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7662')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7662\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7663')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7663')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7663\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7656')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7656')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7656\",\"Period\":\"Per Transaction\",\"Amount\":\"100.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7657')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7657')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7657\",\"Period\":\"Per Day\",\"Amount\":\"200.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7658')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7658')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7658\",\"Period\":\"Per Week\",\"Amount\":\"400.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7659')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7659')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7659\",\"Period\":\"Per Month\",\"Amount\":\"800.00\",\"MaxLimitValue\":null,\"MaxLimitGroupName\":null,\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 44,
          "responseSize": 5404,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is100.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Day is200.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Week is400.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Month is800.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is100.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Day is200.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Week is400.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Month is800.00 and MaxLimitValue is null for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlements for Transfers To External Account are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "1d9fe4a0-e5bb-4eb6-84da-6f37a74bc52b",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 6
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='703')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 764
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"703\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"External Transfers To\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]},{\"OperationName\":\"External Transfers To Unverified Account\",\"Entitled\":true,\"Limits\":[{\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"ExceedWithApproval\":true},{\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"ExceedWithApproval\":true}]}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 203,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Transfers To External Account on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "e9e29f3a-9f86-48be-83b0-9b889236c407",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 6
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='703')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='External%20Transfers%20To',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7668')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7668')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7668\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7669')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7669')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7669\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7670')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7670')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7670\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7671')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7671')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7671\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To External Account\"}]},\"Childrens\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"External Transfers To Unverified Account\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7664')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7664')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7664\",\"Period\":\"Per Transaction\",\"Amount\":\"50.00\",\"MaxLimitValue\":\"100.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7665')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7665')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7665\",\"Period\":\"Per Day\",\"Amount\":\"100.00\",\"MaxLimitValue\":\"200.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7666')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7666')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7666\",\"Period\":\"Per Week\",\"Amount\":\"200.00\",\"MaxLimitValue\":\"400.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7667')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Limits('7667')\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Limit\"},\"Id\":\"7667\",\"Period\":\"Per Month\",\"Amount\":\"400.00\",\"MaxLimitValue\":\"800.00\",\"MaxLimitGroupName\":\"Retail User Profile 661\",\"ExceedWithApproval\":true}]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Transfers To Unverified External Account\"}]},\"Childrens\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ChildEntitlements(OperationName='External%20Transfers%20To%20Unverified%20Account',ObjectId='All',ObjectType='All',GroupId=0)/Childrens\"}}}]}}]}}",
          "cookie": [],
          "responseTime": 52,
          "responseSize": 5602,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Limit for Per Transaction is50.00 and MaxLimitValue is : 100.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Day is100.00 and MaxLimitValue is : 200.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Week is200.00 and MaxLimitValue is : 400.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for Per Month is400.00 and MaxLimitValue is : 800.00 for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To entitled true"
          },
          {
            "assertion": "Feature has display name =Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Transaction is50.00 and MaxLimitValue is :100.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Day is100.00 and MaxLimitValue is :200.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Week is200.00 and MaxLimitValue is :400.00 for Transfers To External Account"
          },
          {
            "assertion": "Limit for child Per Month is400.00 and MaxLimitValue is :800.00 for Transfers To External Account"
          },
          {
            "assertion": "Feature External Transfers To Unverified Account entitled true"
          },
          {
            "assertion": "Child Feature has display name =Transfers To Unverified External Account"
          },
          {
            "assertion": "All Entitlement for Transfers To External Account are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "a564f6c2-063b-486f-9008-9247c6161831",
          "length": 13,
          "cycles": 8,
          "position": 0,
          "iteration": 7,
          "cr": true
        },
        "item": {
          "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
          "name": "Login",
          "request": {
            "url": "{{env}}/bc/odata/ns/authenticationservice/BankEmployees?action=login",
            "method": "POST",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Logged in with admin : Iteration = \"+environment['featureId']] = responseCode.code === 201;",
                  "postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));postman.setEnvironmentVariable(\"TokenKey\",postman.getResponseHeader('TokenKey'));",
                  "postman.setEnvironmentVariable(\"x-csrf-token\",postman.getResponseHeader('x-csrf-token'));"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees?action=login",
          "method": "POST",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 66
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{    \r\n    \"UserName\": \"admin\",    \r\n    \"Password\": \"Pass1234\"\r\n}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "Created",
          "code": 201,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "Set-Cookie",
              "value": "rememberMe=deleteMe; Path=/bc; Max-Age=0; Expires=Thu, 03-Nov-2016 09:22:10 GMT"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:10 GMT"
            },
            {
              "key": "Location",
              "value": "https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1214"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.SecureUser\"},\"AffiliateID\":\"0\",\"AppType\":null,\"BankID\":\"1000\",\"BaseCurrency\":null,\"BusinessCIF\":null,\"BusinessCustId\":null,\"BusinessID\":0,\"BusinessName\":null,\"ChannelType\":null,\"CurrentMfaType\":null,\"EntitlementID\":4,\"Id\":\"BankEmp1\",\"NeedToAcceptTerms\":false,\"CarrierTermsAccepted\":false,\"Password\":\"\",\"UserProfileID\":null,\"ProfileID\":1,\"SmallBusinessUser\":false,\"UserLocale\":{\"__metadata\":{\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.UserLocale\"},\"Country\":\"US\",\"DateFormat\":\"MM/dd/yyyy\",\"DateFormatName\":\"MM/dd/yyyy\",\"DateTimeFormat\":\"MM/dd/yyyy HH:mm\",\"DateTimeFormatName\":\"MM/dd/yyyy HH:mm\",\"Language\":\"en\",\"Locale\":\"en_US\",\"LocaleName\":\"en-US\",\"TimeFormat\":\"HH:mm\",\"TimeFormatName\":\"HH:mm\",\"ZoneFormat\":null,\"ZoneFormatName\":null},\"UserName\":\"admin\",\"UserType\":2,\"BPWFIID\":null,\"DeviceId\":null,\"MacId\":null,\"MultifactorInfo\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/ns/authenticationservice/BankEmployees('BankEmp1')/MultifactorInfo\"}}}}",
          "cookie": [],
          "responseTime": 24,
          "responseSize": 1214,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "33b340ad-d815-4abd-8521-07842ccbb6dd",
        "assertions": [
          {
            "assertion": "Logged in with admin : Iteration = 1401"
          }
        ]
      },
      {
        "cursor": {
          "ref": "cc5ba5f2-3a8b-4f50-bcbc-834ec659a0d5",
          "length": 13,
          "cycles": 8,
          "position": 1,
          "iteration": 7
        },
        "item": {
          "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
          "name": "get ProfileFeatures without assigning feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')?$expand=Feature",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('reqPutOnlyFeature',jsonRequestBody);",
                  "postman.setEnvironmentVariable('featureName',jsonData.d.Feature.FeatureName);",
                  "",
                  "tests[\"Feature \"+environment['featureId']+\" get without assigning\"] = responseCode.code === 200;",
                  "tests[\"Feature not assigned for \"+environment['featureId']] = jsonData.d.Assigned === \"no\";",
                  "tests[\"Profile Id verified :\"+environment['Id']+\" \"+environment['featureId']] = jsonData.d.ProfileId === environment['Id'];",
                  "tests[\"Feature Id verified :\"+environment['featureId']] = jsonData.d.FeatureId === environment['featureId'];"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "postman.setEnvironmentVariable('featureId',data['f_id']);"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')?$expand=Feature",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:10 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Content-Length",
              "value": "1339"
            }
          ],
          "body": "{\"d\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.ProfileFeature\"},\"ProfileId\":\"2948\",\"FeatureId\":\"1401\",\"Assigned\":\"no\",\"Profile\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')/Profile\"}},\"Feature\":{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('1401')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('1401')\",\"type\":\"com.sap.banking.profile.endpoint.v1_0.beans.Feature\"},\"Id\":\"1401\",\"FeatureName\":\"Others\",\"FeatureGroupName\":\"Others\",\"Entitled\":false,\"CanSubscribe\":false,\"Entitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('1401')/Entitlements\"}},\"ParentEntitlements\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('1401')/ParentEntitlements\"}},\"Properties\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Features('1401')/Properties\"}}}}}",
          "cookie": [],
          "responseTime": 24,
          "responseSize": 1339,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "6c67a16f-580e-476b-be57-e21691d8e6c5",
        "assertions": [
          {
            "assertion": "Feature 1401 get without assigning"
          },
          {
            "assertion": "Feature not assigned for 1401"
          },
          {
            "assertion": "Profile Id verified :2948 1401"
          },
          {
            "assertion": "Feature Id verified :1401"
          }
        ]
      },
      {
        "cursor": {
          "ref": "c8720611-1f6d-438c-9c55-82c5de201031",
          "length": 13,
          "cycles": 8,
          "position": 2,
          "iteration": 7
        },
        "item": {
          "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
          "name": "Add Retail User Profile Feature without entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{reqPutOnlyFeature}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//postman.setEnvironmentVariable(\"featureId\", jsonData.d.FeatureId);",
                  "",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"ProfileId and FeatureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === '601';",
                  "tests[\"Feature : \"+environment['featureName']+\" added without entitlements\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 39
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"1401\"}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 43,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "e1a6b3ac-174a-490e-8e56-80819df4f477",
        "assertions": [
          {
            "assertion": "Feature : Others added without entitlements"
          }
        ]
      },
      {
        "cursor": {
          "ref": "dfec1f14-9fb4-4dde-9068-6674b67a9e44",
          "length": 13,
          "cycles": 8,
          "position": 3,
          "iteration": 7
        },
        "item": {
          "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
          "name": "get ProfileFeatures entitlements",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsList = [];",
                  "var channelEntitlementsList = [];",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    entitlementsList.push(entitlement);",
                  "",
                  "    var channelEntitlement = {};",
                  "    channelEntitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    channelEntitlement.Entitled = false;",
                  "    channelEntitlementsList.push(channelEntitlement);",
                  " ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var channelEntitlement = {};",
                  "        channelEntitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        channelEntitlement.Entitled = false;",
                  "        channelEntitlementsList.push(channelEntitlement);",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "",
                  "postResponse.Feature = entObj;",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "entObjChannel.Entitlements = channelEntitlementsList; ",
                  "",
                  "",
                  "var jsonRequestBodyCross = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReq',jsonRequestBodyCross);",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqChannel',jsonRequestBodyChannel);",
                  "",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Childrens,Childrens/Properties",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"__deferred\":{\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)/Limits\"}},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 50,
          "responseSize": 5615,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8a670e03-d4ae-45be-950a-86efe6ccd09d",
        "assertions": [
          {
            "assertion": "Feature MBanking entitled false"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled false"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled false"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature faq entitled false"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature sessionRcpt entitled false"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled False"
          }
        ]
      },
      {
        "cursor": {
          "ref": "69401736-506b-44ea-9dc8-d59e50f77e8f",
          "length": 13,
          "cycles": 8,
          "position": 4,
          "iteration": 7
        },
        "item": {
          "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
          "name": "delete feature",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "DELETE",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Feature \"+environment['featureName']+\" deleted\"] = responseCode.code === 204;",
                  ""
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')",
          "method": "DELETE",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Accept",
              "value": "*/*"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": ""
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 29,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "fb1b123a-45c2-447f-9718-6e8271240d7b",
        "assertions": [
          {
            "assertion": "Feature Others deleted"
          }
        ]
      },
      {
        "cursor": {
          "ref": "8080c4d5-71d6-4c99-9266-39b813613482",
          "length": 13,
          "cycles": 8,
          "position": 5,
          "iteration": 7
        },
        "item": {
          "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReq}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Feature \"+environment['featureName']+\" added with entitlemnts entitled true\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 63,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "9aef6c8b-4779-4e0c-b542-4b8b25e4e8de",
        "assertions": [
          {
            "assertion": "Feature Others added with entitlemnts entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "ad34b604-dd56-4244-ad62-e81a226edf9e",
          "length": 13,
          "cycles": 8,
          "position": 6,
          "iteration": 7
        },
        "item": {
          "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
          "name": "get ProfileFeatures with children and limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "",
                  "var postResponse ={};",
                  "postResponse.ProfileId = \"{{Id}}\";",
                  "postResponse.FeatureId = \"{{featureId}}\";",
                  "",
                  "var postResponseChannel ={};",
                  "postResponseChannel.ProfileId = \"{{ChannelId}}\";",
                  "postResponseChannel.FeatureId = \"{{featureId}}\";",
                  "",
                  "var entObj = {};",
                  "var featureObj = {};",
                  "var entitlementsList = [];",
                  "var entObjChannel = {};",
                  "var featureObjChannel = {};",
                  "var entitlementsListChannel = [];",
                  "",
                  "var limitValue = 1600;",
                  "var limitList = [];",
                  "var limitListChannel = [];",
                  "var periodType = [\"Per Month\",\"Per Week\",\"Per Day\",\"Per Transaction\"];",
                  "",
                  "for(var i=0;i<4;i++)",
                  "{",
                  "    limitValue = limitValue/2;",
                  "    limitValueChannel = limitValue/2;",
                  "    var limitObj = {};",
                  "    limitObj.Period=periodType[i];",
                  "    limitObj.Amount=limitValue.toString()+\".00\";",
                  "    limitObj.ExceedWithApproval=true;",
                  "    limitList.push(limitObj);",
                  "    ",
                  "    var limitObjChannel = {};",
                  "    limitObjChannel.Period=periodType[i];",
                  "    limitObjChannel.Amount=limitValueChannel.toString()+\".00\";",
                  "    limitObjChannel.ExceedWithApproval=true;",
                  "    limitListChannel.push(limitObjChannel);",
                  "}",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var entitlement = {};",
                  "    var limitArr = res[i].Limits.results;",
                  "    entitlement.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlement.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlement.Limits=limitList;",
                  "    }",
                  "    entitlementsList.push(entitlement);",
                  "    ",
                  "    var entitlementChannel = {};",
                  "    entitlementChannel.OperationName = res[i].OperationName;//Parent Operation name tobe extracted",
                  "    entitlementChannel.Entitled = true;",
                  "    if(limitArr.length>0)",
                  "    {",
                  "        entitlementChannel.Limits=limitListChannel;",
                  "    }",
                  "    entitlementsListChannel.push(entitlementChannel);",
                  "    ",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "    tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var entitlement = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlement.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlement.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlement.Limits=limitList;",
                  "        }",
                  "        entitlementsList.push(entitlement);",
                  "        ",
                  "        var entitlementChannel = {};",
                  "        var childlimitArr = childArr[j].Limits.results;",
                  "        entitlementChannel.OperationName = childArr[j].OperationName;//Child Operation name tobe extracted for each parent",
                  "        entitlementChannel.Entitled = true;",
                  "        if(childlimitArr.length>0)",
                  "        {",
                  "            entitlementChannel.Limits=limitListChannel;",
                  "        }",
                  "        entitlementsListChannel.push(entitlementChannel);",
                  "        ",
                  "        ",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "",
                  "entObj.Entitlements = entitlementsList; ",
                  "postResponse.Feature = entObj;",
                  "",
                  "var jsonRequestBody = JSON.stringify(postResponse);",
                  "postman.setEnvironmentVariable('newReqWithLimit',jsonRequestBody);",
                  "",
                  "entObjChannel.Entitlements = entitlementsListChannel; ",
                  "postResponseChannel.Feature = entObjChannel;",
                  "",
                  "var jsonRequestBodyChannel = JSON.stringify(postResponseChannel);",
                  "postman.setEnvironmentVariable('newReqWithLimitChannel',jsonRequestBodyChannel);",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled true\"] = responseCode.code === 200;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 32,
          "responseSize": 4794,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "da88daf2-5831-4e67-8c00-5278ff11ee3e",
        "assertions": [
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled true"
          }
        ]
      },
      {
        "cursor": {
          "ref": "f3cc6061-f1b5-4bf6-9a91-68937c1e12d3",
          "length": 13,
          "cycles": 8,
          "position": 7,
          "iteration": 7
        },
        "item": {
          "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
          "name": "Add Retail User Profile Features with entitlements (Valid Set)",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 294
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":false},{\"OperationName\":\"Portal\",\"Entitled\":false},{\"OperationName\":\"Services\",\"Entitled\":false},{\"OperationName\":\"faq\",\"Entitled\":false},{\"OperationName\":\"sessionRcpt\",\"Entitled\":false}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 36,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "f1827424-5829-443e-9c5d-5feaa6cc2b91",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Others on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "fc42e662-c8f9-4bc7-96c8-5ae1aeb583fb",
          "length": 13,
          "cycles": 8,
          "position": 8,
          "iteration": 7
        },
        "item": {
          "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
          "name": "get ProfileFeatures with children entitled false on channel Verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    ",
                  "     var flg = tests[\"Feature \"+res[i].OperationName+\" entitled false\"] = res[i].Entitled === false;",
                  "    if (flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "   for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled false\"] = childArr[j].Entitled === false;",
                  "        ",
                  "        //if(childPropArr.length>0)",
                  "           tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "            if (flg === false){fail = 1;}",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled False for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:11 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "key": "Connection",
              "value": "close"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":false,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 46,
          "responseSize": 4799,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "b70a6e5b-1c08-44f1-a54d-928f1b9a9226",
        "assertions": [
          {
            "assertion": "Feature MBanking entitled false"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled false"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled false"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature faq entitled false"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature sessionRcpt entitled false"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled False for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "378de1d5-ebd6-4413-b71e-cb8a528db0c0",
          "length": 13,
          "cycles": 8,
          "position": 9,
          "iteration": 7
        },
        "item": {
          "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
          "name": "Add Business Profile Features with entitlements with limits",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimit}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "",
                  "tests[\"Modify entitlements for feature \"+environment['featureName']+\" on cross profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2948\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 44,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd99e7f1-348c-4d71-90c2-efec4fb70d35",
        "assertions": [
          {
            "assertion": "Modify entitlements for feature Others on cross profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "77ee33cd-4f5f-4617-bca0-16d1a9979492",
          "length": 13,
          "cycles": 8,
          "position": 10,
          "iteration": 7
        },
        "item": {
          "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
          "name": "get ProfileFeatures with children and limits verify",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{Id}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === null;",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail = 1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is null for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === null;",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg= tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail = 1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlements for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2948',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 32,
          "responseSize": 4794,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "8139762f-43cc-4577-9a9b-6319eb8c2c8d",
        "assertions": [
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlements for Others are entitled True for channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "5a9d32d4-aa73-48d1-ad9c-9e797de47e21",
          "length": 13,
          "cycles": 8,
          "position": 11,
          "iteration": 7
        },
        "item": {
          "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
          "name": "Add Retail User Profile Features with entitlements with limits on Channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')",
            "method": "PUT",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{newReqWithLimitChannel}}"
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "//var jsonData = JSON.parse(responseBody);",
                  "//tests[\"status code is 201 : Created\"] = responseCode.code === 201;",
                  "//tests[\"profileId and featureId verified\"] = jsonData.d.ProfileId === environment['Id'] && jsonData.d.FeatureId === environment['featureId'];",
                  "tests[\"Modify entitlements with limit for feature \"+environment['featureName']+\" on channel profile\"] = responseCode.code === 204;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='1401')",
          "method": "PUT",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            },
            {
              "key": "content-length",
              "value": 289
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\"ProfileId\":\"2949\",\"FeatureId\":\"1401\",\"Feature\":{\"Entitlements\":[{\"OperationName\":\"MBanking\",\"Entitled\":true},{\"OperationName\":\"Portal\",\"Entitled\":true},{\"OperationName\":\"Services\",\"Entitled\":true},{\"OperationName\":\"faq\",\"Entitled\":true},{\"OperationName\":\"sessionRcpt\",\"Entitled\":true}]}}"
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "No Content",
          "code": 204,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            }
          ],
          "body": "",
          "cookie": [],
          "responseTime": 51,
          "responseSize": 0,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "dd67543b-b65d-458b-9d59-6f683f333dfe",
        "assertions": [
          {
            "assertion": "Modify entitlements with limit for feature Others on channel profile"
          }
        ]
      },
      {
        "cursor": {
          "ref": "b2633215-782d-4462-9b85-ea9501d6fb28",
          "length": 13,
          "cycles": 8,
          "position": 12,
          "iteration": 7
        },
        "item": {
          "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
          "name": "get ProfileFeatures with children and limits verify on channel",
          "request": {
            "url": "{{env}}/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='{{ChannelId}}',FeatureId='{{featureId}}')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
            "method": "GET",
            "header": [
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "TokenKey",
                "value": "{{TokenKey}}"
              },
              {
                "description": {
                  "content": "",
                  "type": "text/plain"
                },
                "key": "x-csrf-token",
                "value": "{{x-csrf-token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "description": {
              "content": "",
              "type": "text/plain"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "var res = jsonData.d.results;",
                  "var fail = 0;",
                  "var limitArr = [\"50.00\",\"100.00\",\"200.00\",\"400.00\"];",
                  "var maxlimitArr = [\"100.00\",\"200.00\",\"400.00\",\"800.00\"];",
                  "for(var i=0;i<res.length;i++)",
                  "{",
                  "    var propArr = res[i].Properties.results;",
                  "    var childArr = res[i].Childrens.results;",
                  "    var parentLimit = res[i].Limits.results;",
                  "    if(parentLimit.length>0)",
                  "    {",
                  "        for(var k=0;k<parentLimit.length;k++)",
                  "        {",
                  "            tests[\"Limit for \"+parentLimit[k].Period+\" is\"+parentLimit[k].Amount+\" and MaxLimitValue is : \"+maxlimitArr[k]+\" for \"+environment['featureName']] = parentLimit[k].Amount === limitArr[k] && parentLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "        }",
                  "    }",
                  "    var flg = tests[\"Feature \"+res[i].OperationName+\" entitled true\"] = res[i].Entitled === true;",
                  "    if(flg === false){fail=1;}",
                  "    tests[\"Feature has \"+propArr[0].Key+\" =\"+propArr[0].Value] = propArr.length>0;",
                  "    for(var j=0;j<childArr.length;j++)",
                  "    {",
                  "        var childLimit = childArr[j].Limits.results;",
                  "    //if(childLimit.length>0)",
                  "        {",
                  "        for(var k=0;k<childLimit.length;k++)",
                  "            {",
                  "            tests[\"Limit for child \"+childLimit[k].Period+\" is\"+childLimit[k].Amount+\" and MaxLimitValue is :\"+maxlimitArr[k]+\" for \"+environment['featureName']] = childLimit[k].Amount === limitArr[k] && childLimit[k].MaxLimitValue === maxlimitArr[k];",
                  "            }",
                  "        }",
                  "        var childPropArr = childArr[j].Properties.results;",
                  "        var flg = tests[\"Feature \"+childArr[j].OperationName+\" entitled true\"] = childArr[j].Entitled === true;",
                  "        if(flg === false){fail=1;}",
                  "        //if(childPropArr.length>0)",
                  "            tests[\"Child Feature has \"+childPropArr[0].Key+\" =\"+childPropArr[0].Value] = childPropArr.length>0;",
                  "    }",
                  "}",
                  "tests[\"All Entitlement for \"+environment['featureName']+\" are entitled True for channel profile\"] = fail === 0;"
                ]
              }
            }
          ]
        },
        "request": {
          "url": "https://localhost:8081/bc/odata/services/retailuserprofileservice/ProfileFeatures(ProfileId='2949',FeatureId='1401')/Feature/Entitlements?$expand=Properties,Limits,Childrens,Childrens/Properties,Childrens/Limits",
          "method": "GET",
          "header": [
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Accept",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "description": {
                "content": "",
                "type": "text/plain"
              },
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/3.0.2"
            },
            {
              "key": "Host",
              "value": "localhost:8081"
            },
            {
              "key": "cookie",
              "value": "JSESSIONID=1771262370A98C164E4B8A235BDA26ADB985DC108D72CE99E71BE8B80E524213"
            },
            {
              "key": "accept-encoding",
              "value": "gzip, deflate"
            }
          ],
          "body": {
            "mode": "formdata",
            "formdata": []
          },
          "description": {
            "content": "",
            "type": "text/plain"
          }
        },
        "response": {
          "status": "OK",
          "code": 200,
          "header": [
            {
              "key": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "key": "DataServiceVersion",
              "value": "2.0"
            },
            {
              "key": "Date",
              "value": "Fri, 04 Nov 2016 09:22:12 GMT"
            },
            {
              "key": "TokenKey",
              "value": "RkZJSEFTSCtOcnlwbC94U2d1Q1JLd0Vvd2xPTDdhM0htTWIrVFZJKzJyOUxlOGhmbnc9"
            },
            {
              "key": "x-csrf-token",
              "value": "4466610598211596641"
            },
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "key": "Content-Encoding",
              "value": "gzip"
            },
            {
              "key": "Vary",
              "value": "Accept-Encoding"
            }
          ],
          "body": "{\"d\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='MBanking',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"MBanking\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Mobile Banking\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Portal',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Portal\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Financial News\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='Services',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"Services\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Services\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='faq',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"faq\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Frequently Asked Questions\"}]},\"Childrens\":{\"results\":[]}},{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/Entitlements(OperationName='sessionRcpt',ObjectId='All',ObjectType='All',GroupId=0)\",\"type\":\"com.sap.banking.entitlements.endpoint.v1_0.beans.Entitlement\"},\"OperationName\":\"sessionRcpt\",\"ObjectId\":\"All\",\"ObjectType\":\"All\",\"GroupId\":0,\"Entitled\":true,\"RequiresApproval\":null,\"Category\":null,\"Limits\":{\"results\":[]},\"Properties\":{\"results\":[{\"__metadata\":{\"id\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"uri\":\"https://localhost:8081/bc/odata/services/retailuserprofileservice/EntitlementProperties('display%20name')\",\"type\":\"com.sap.banking.common.endpoint.v1_0.beans.KeyValue\"},\"Key\":\"display name\",\"Value\":\"Session Receipt\"}]},\"Childrens\":{\"results\":[]}}]}}",
          "cookie": [],
          "responseTime": 31,
          "responseSize": 4794,
          "update": {},
          "reason": {},
          "text": {},
          "json": {},
          "mime": {},
          "dataURI": {},
          "size": {},
          "describe": {},
          "toObjectResolved": {},
          "toJSON": {},
          "meta": {}
        },
        "id": "0d9e15f8-b15a-49c2-a017-dc1eef15029f",
        "assertions": [
          {
            "assertion": "Feature MBanking entitled true"
          },
          {
            "assertion": "Feature has display name =Mobile Banking"
          },
          {
            "assertion": "Feature Portal entitled true"
          },
          {
            "assertion": "Feature has display name =Financial News"
          },
          {
            "assertion": "Feature Services entitled true"
          },
          {
            "assertion": "Feature has display name =Services"
          },
          {
            "assertion": "Feature faq entitled true"
          },
          {
            "assertion": "Feature has display name =Frequently Asked Questions"
          },
          {
            "assertion": "Feature sessionRcpt entitled true"
          },
          {
            "assertion": "Feature has display name =Session Receipt"
          },
          {
            "assertion": "All Entitlement for Others are entitled True for channel profile"
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 188052
    },
    "failures": [],
    "error": null
  }
}